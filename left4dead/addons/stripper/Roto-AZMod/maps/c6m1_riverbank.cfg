; This map is part of left4deadDLC4-l4d2onl4d1

; Harry Modify 2023
filter:
; remove ammo and use our own settings
{
	"classname" "weapon_ammo_spawn"
}

; l4d2 official
add:
; ammo
{
    "origin" "-4035.29 1486.96 765.629"
    "spawnflags" "2"
    "solid" "6"
    "skin" "0"
    "model" "models/props/terror/ammo_stack.mdl"
    "disableshadows" "1"
    "count" "5"
    "angles" "0 0 0"
    "classname" "weapon_ammo_spawn"
}

; from l4d2 the last stand update
; anv_mapfixes
; clip
add:
{
	; _ghostgrief_tarpledge
	"BlockType" "1"
	"initialstate" "1"
	"mins" "-4 -313 -145"
	"maxs" "4 466 1337"
	"origin" "1148 4257 96"
    "classname" "env_player_blocker"
}

{
	; _permstuck_tarptree
	"BlockType" "0"
	"initialstate" "1"
	"mins" "-17 -69 -17"
	"maxs" "17 17 17"
	"origin" "1166 3794 191"
    "classname" "env_player_blocker"
}

{
	; _commonhop_windowsill
	"BlockType" "1"
	"initialstate" "1"
	"mins" "-6 -216 0"
	"maxs" "6 216 800"
	"origin" "539 2861 237"
    "classname" "env_player_blocker"
}

{
	; _commonhop_awning
	"BlockType" "1"
	"initialstate" "1"
	"mins" "-117 -42 -17"
	"maxs" "107 55 2020"
	"origin" "3824 2666 236"
    "classname" "env_player_blocker"
}

{
	; _curvejump_pixelperfect
	"BlockType" "1"
	"initialstate" "1"
	"mins" "-24 -64 -128"
	"maxs" "24 64 128"
	"origin" "4784 3785 83"
    "classname" "env_player_blocker"
}

{
	; _permstuck_fence
	"BlockType" "1"
	"initialstate" "1"
	"mins" "-24 -48 0"
	"maxs" "24 48 92"
	"origin" "-1391 1293 247"
    "classname" "env_player_blocker"
}

{
	; _fence_onea
	"BlockType" "1"
	"initialstate" "1"
	"mins" "-450 -21 0"
	"maxs" "345 111 1216"
	"origin" "96 1425 496"
    "classname" "env_player_blocker"
}

{
	; _fence_oneb
	"BlockType" "1"
	"initialstate" "1"
	"mins" "-16 -325 0"
	"maxs" "16 325 1216"
	"origin" "-356 1088 496"
    "classname" "env_player_blocker"
}

{
	; _fence_two
	"BlockType" "1"
	"initialstate" "1"
	"mins" "-420 -177 0"
	"maxs" "24 177 1216"
	"origin" "69 592 544"
    "classname" "env_player_blocker"
}

{
	; _permstuck_floodlight
	"BlockType" "0"
	"initialstate" "1"
	"mins" "-10 -8 -43"
	"maxs" "10 8 43"
	"origin" "2012 1626 555"
    "classname" "env_player_blocker"
}

{
	; _commonhop_endfence
	"BlockType" "1"
	"initialstate" "1"
	"mins" "-5 -128 0"
	"maxs" "5 128 1200"
	"origin" "-3874 1647 716"
    "classname" "env_player_blocker"
}

{
	; _commonhop_busa
	"BlockType" "1"
	"initialstate" "1"
	"mins" "-216 -20 0"
	"maxs" "216 20 1200"
	"origin" "-3653 2324 705"
    "classname" "env_player_blocker"
}

{
	; _commonhop_busb
	"BlockType" "1"
	"initialstate" "1"
	"mins" "-9 -777 -64"
	"maxs" "9 777 444"
	"origin" "-3432 1527 926"
    "classname" "env_player_blocker"
}

{
	; _sneaky_hunter
	"BlockType" "2"
	"initialstate" "1"
	"mins" "-144 -136 -368"
	"maxs" "144 136 368"
	"origin" "5296 2488 1008"
    "classname" "env_player_blocker"
}

{
	; _clipgap_fence
	"BlockType" "1"
	"initialstate" "1"
	"mins" "-32 -253 -360"
	"maxs" "32 256 360"
	"origin" "584 2366 456"
    "classname" "env_player_blocker"
}

{
	; _commonhop_windows
	"BlockType" "1"
	"initialstate" "1"
	"mins" "-700 -7 -72"
	"maxs" "700 7 800"
	"origin" "1402 2659 393.1"
    "classname" "env_player_blocker"
}

{
	; _cliprework_emptylargerooms
	"BlockType" "1"
	"initialstate" "1"
	"mins" "-440 -275 0"
	"maxs" "440 260 316"
	"origin" "1072 1883 512"
   "classname" "env_player_blocker"
}

;{
;	; _dispcrouch_concretea
;	"BlockType" "0"
;	"initialstate" "1"
;	"mins" "-8 -61 0"
;	"maxs" "8 61 375"
;	"origin" "4035 1016 137"
;	;"angles" "0 -95 0"
;    "classname" "env_player_blocker"
;}

;{
;	; _dispcrouch_concreteb
;	"BlockType" "0"
;	"initialstate" "1"
;	"mins" "-8 -150 0"
;	"maxs" "8 200 375"
;	"origin" "4212 901 137"
;	;"angles" "0 -133 0"
;    "classname" "env_player_blocker"
;}

{
	; _booster_clipextend_mid
	"BlockType" "1"
	"initialstate" "1"
	"mins" "-405 -45 0"
	"maxs" "403 43 1822"
	"origin" "-1963 373 1264"
    "classname" "env_player_blocker"
}

{
	; _booster_clipextend_end
	"BlockType" "1"
	"initialstate" "1"
	"mins" "-8 -945 0"
	"maxs" "18 947 1202"
	"origin" "1856 -175 1920"
    "classname" "env_player_blocker"
}

{
	; _booster_gazebo
	"BlockType" "1"
	"initialstate" "1"
	"mins" "-184 -184 -94"
	"maxs" "186 184 2122"
	"origin" "-1647 -365 999"
    "classname" "env_player_blocker"
}

{
	; _cliprework_startroof
	"BlockType" "1"
	"initialstate" "1"
	"mins" "-5 -1040 -60"
	"maxs" "7 676 1200"
	"origin" "709 4088 344"
    "classname" "env_player_blocker"
}

{
	; _cliprework_bridgeroof
	"BlockType" "1"
	"initialstate" "1"
	"mins" "-218 -166 -4"
	"maxs" "298 186 8"
	"origin" "927 4579 302"
    "classname" "env_player_blocker"
}

{
	; _cliprework_bridgewall
	"BlockType" "1"
	"initialstate" "1"
	"mins" "-218 -166 -4"
	"maxs" "298 -154 1200"
	"origin" "927 4579 302"
    "classname" "env_player_blocker"
}

{
	; _cliprework_endfence
	"BlockType" "1"
	"initialstate" "1"
	"mins" "-5 -146 0"
	"maxs" "27 200 779"
	"origin" "-2317 560 821"
    "classname" "env_player_blocker"
}

{
	; _cliprework_endroof
	"BlockType" "1"
	"initialstate" "1"
	"mins" "-9 -884 0"
	"maxs" "9 461 839"
	"origin" "-3913 1061 1056"
    "classname" "env_player_blocker"
}

{
	; _cliprework_endwindows1
	"BlockType" "1"
	"initialstate" "1"
	"mins" "-15 -155 0"
	"maxs" "7 151 90"
	"origin" "-3844 -270 1035"
    "classname" "env_player_blocker"
}

{
	; _cliprework_endwindows2
	"BlockType" "1"
	"initialstate" "1"
	"mins" "-8 -160 0"
	"maxs" "8 158 129"
	"origin" "-3911 561 863"
    "classname" "env_player_blocker"
}

{
	; _cliprework_endwindows3
	"BlockType" "1"
	"initialstate" "1"
	"mins" "-8 -161 0"
	"maxs" "8 157 128"
	"origin" "-3880 1082 895"
    "classname" "env_player_blocker"
}

;{
;	; _dispcrouch_caralarm
;	"BlockType" "0"
;	"initialstate" "1"
;	"mins" "-58 -8 0"
;	"maxs" "58 8 155"
;	"origin" "1415 980 357"
;	;"angles" "0 -39 0"
;    "classname" "env_player_blocker"
;}

{
	; _cosmetic_left_collision
	"BlockType" "3"
	"initialstate" "1"
	"mins" "-78 -18 -30"
	"maxs" "58 14 6"
	"origin" "890 1637 542"
    "classname" "env_player_blocker"
}

{
	; _cosmetic_right_collision
	"BlockType" "3"
	"initialstate" "1"
	"mins" "-17 -18 -30"
	"maxs" "73 14 6"
	"origin" "1400 1637 542"
    "classname" "env_player_blocker"
}

; prop
{
	"classname" "prop_dynamic"
    ; _cosmetic_hifunreal
    "model" "models/props_vehicles/racecar_damaged_glass.mdl"
    "origin" "928 4016 90"
    "angles" "0.0 0.0 -1.5"
    "disableshadows" "1"
	"solid" "6"
}

{
	"classname" "prop_dynamic"
    ; _cosmetic_left_desk1
	"model" "models/props_interiors/desk_metal.mdl"
	"origin" "910 1652 527"
	"angles" "90 -90 0"
	"disableshadows" "1"
	"solid" "0"
}

{
	"classname" "prop_dynamic"
    ; _cosmetic_left_desk2
	"model" "models/props_interiors/desk_metal.mdl"
	"origin" "855 1634 527"
	"angles" "0 -90 30"
	"disableshadows" "1"
	"solid" "0"
}

{
	"classname" "prop_dynamic"
    ; _cosmetic_left_plywood
	"model" "models/props_highway/plywood_02.mdl"
	"origin" "930 1615 605"
	"angles" "12 0 90"
	"disableshadows" "1"
	"solid" "0"
}

{
	"classname" "prop_dynamic_override"
    ; _cosmetic_right_cab1
	"model" "models/props/cs_office/file_cabinet1.mdl"
	"origin" "1455 1636 512"
	"angles" "0 -125 0"
	"disableshadows" "1"
	"solid" "0"
}

{
	"classname" "prop_dynamic_override"
    ; _cosmetic_right_cab2
	"model" "models/props/cs_office/file_cabinet3.mdl"
	"origin" "1420 1634 512"
	"angles" "0 -75 0"
	"disableshadows" "1"
	"solid" "0"
}

{
	"classname" "prop_dynamic_override"
    ; _cosmetic_right_cab3
	"model" "models/props/cs_office/file_cabinet3.mdl"
	"origin" "1395 1634 512"
	"angles" "0 -95 0"
	"disableshadows" "1"
	"solid" "0"
}

{
	"classname" "prop_dynamic"
    ; _cosmetic_right_plywood
	"model" "models/props_highway/plywood_02.mdl"
	"origin" "1450 1615 621"
	"angles" "-3 0 90"
	"disableshadows" "1"
	"solid" "0"
}

; anv_versus
; brush
add:
{
	"targetname" "_losfix_bus"
	"classname" "func_brush"
	"origin" "-3624 101 713" 
}
{
	"targetname" "_losfix_van"
	"classname" "func_brush"
	"origin" "3897 1356 148" 
}
{
    "classname" "logic_auto"
    "OnMapSpawn" "_losfix_bus,AddOutput,mins -1 -124 -9,0,-1"
    "OnMapSpawn" "_losfix_bus,AddOutput,maxs 1 124 9,0,-1"
    "OnMapSpawn" "_losfix_bus,AddOutput,solid 2,0,-1"

    "OnMapSpawn" "_losfix_van,AddOutput,mins -1 -72 -10,0,-1"
    "OnMapSpawn" "_losfix_van,AddOutput,maxs 1 72 10,0,-1"
    "OnMapSpawn" "_losfix_van,AddOutput,solid 2,0,-1"
}

; clip
;{
;	; _endsaferoof_wrongway_clip
;	"BlockType" "2"
;	"initialstate" "1"
;	"mins" "-287 -174 -140"
;	"maxs" "220 130 1759"
;	"origin" "-4128 350 1337"
;    "classname" "env_player_blocker"
;}
;{
;	; _semiperm_endsaferoof
;	"BlockType" "2"
;	"initialstate" "1"
;	"mins" "-8 0 0"
;	"maxs" "104 270 144"
;	"origin" "-4344 482 1192"
;    "classname" "env_player_blocker"
;}
;{
;	; _ladder_startalternativeB_clipleft
;	"BlockType" "0"
;	"initialstate" "1"
;	"mins" "-8 -16 0"
;	"maxs" "8 16 249"
;	"origin" "701 4025 96"
;	;"angles" "0 -45 0"
;    "classname" "env_player_blocker"
;}
;{
;	; _ladder_startalternativeB_clipright
;	"BlockType" "0"
;	"initialstate" "1"
;	"mins" "-8 -16 0"
;	"maxs" "8 16 249"
;	"origin" "701 4071 96"
;	;"angles" "0 45 0"
;    "classname" "env_player_blocker"
;}
;{
;	; _ladder_upperbalconynear_clip
;	"BlockType" "0"
;	"initialstate" "1"
;	"mins" "-3 0 0"
;	"maxs" "3 16 372"
;	"origin" "3968 1822 199"
;	;"angles" "0 11 0"
;    "classname" "env_player_blocker"
;}
{
	; _infected_mapescape
	"BlockType" "2"
	"initialstate" "1"
	"mins" "-1000 -350 -20"
	"maxs" "40 808 245"
	"origin" "-1997 1497 192"
    "classname" "env_player_blocker"
}

; ladder (22)
{
	"classname" "func_simpleladder"
	; _ladder_brideentryleft_cloned_brideentryright
	;"model" "196 422 574"
	"origin" "1199 -13 -20"
	"angles" "0.00 0.00 0.00"
    "model" "*16"        
    "normal.x" "0.00"
    "normal.y" "1.00"
    "normal.z" "0.00"
    "team" "2"
}

{
	"classname" "func_simpleladder"
	; _ladder_elecbox_cloned_bluebin
	;"model" "2528 1030 342"
	"origin" "-2652 -253 42"
	"angles" "0.00 0.00 0.00"
    "model" "*27"        
    "normal.x" "0.00"
    "normal.y" "1.00"
    "normal.z" "0.00"
    "team" "2"
}

{
	"classname" "func_simpleladder"
	; _ladder_elecboxsafehouse_cloned_bluebin
	;"model" "2528 1030 342"
	"origin" "-6434 498 516"
	"angles" "0.00 0.00 0.00"
    "model" "*27"        
    "normal.x" "0.00"
    "normal.y" "1.00"
    "normal.z" "0.00"
    "team" "2"
}

{
	"classname" "func_simpleladder"
	; _ladder_endfencefront_cloned_endfenceback
	;"model" "-3879.68 1645.6 787"
	"model" "*137"
	"origin" "-7751 3326 -2"
	"angles" "0 180 0"
    "normal.x" "1.00"
    "normal.y" "0.00"
    "normal.z" "0.00"
    "team" "2"
}

{
	"classname" "func_simpleladder"
	; _ladder_endsafehouse_cloned_windowtallright
	;"model" "1664 2662 228"
	"model" "*75"
	"origin" "-6535 2676 610"
	"angles" "0 -90 0"
    "normal.x" "1.00"
    "normal.y" "0.00"
    "normal.z" "0.00"
    "team" "2"
}

{
	"classname" "func_simpleladder"
	; _ladder_endshorthouse_cloned_windowshortleft
	;"model" "1136 2662 212"
	"model" "*1"
	"origin" "-6567 1760 608"
	"angles" "0 -90 0"
    "normal.x" "1.00"
    "normal.y" "0.00"
    "normal.z" "0.00"
    "team" "2"
}

{
	"classname" "func_simpleladder"
	; _ladder_endtallbrickleft_cloned_bluebin
	;"model" "2528 1030 342"
	"model" "*27"
	"origin" "-4866 2127 480"
	"angles" "0 -90 0"
    "normal.x" "1.00"
    "normal.y" "0.00"
    "normal.z" "0.00"
    "team" "2"
}

{
	"classname" "func_simpleladder"
	; _ladder_endtallbrickright_cloned_bluebin
	;"model" "2528 1030 342"
	"model" "*27"
	"origin" "-4866 2383 480"
	"angles" "0 -90 0"
    "normal.x" "1.00"
    "normal.y" "0.00"
    "normal.z" "0.00"
    "team" "2"
}

{
	"classname" "func_simpleladder"
	; _ladder_endtransitfence_cloned_dispcrouchfence
	;"model" "4673 994 239.551"
	"origin" "-6991 -432 470"
	"angles" "0.00 0.00 0.00"
    "model" "*53"        
    "normal.x" "1.00"
    "normal.y" "0.00"
    "normal.z" "0.00"
    "team" "2"
}

{
	"classname" "func_simpleladder"
	; _ladder_startalternativeB_cloned_windowtallright
	;"model" "1664 2662 228"
	"model" "*75"
	"origin" "-1947 5712 -16"
	"angles" "0 -90 0"
    "normal.x" "1.00"
    "normal.y" "0.00"
    "normal.z" "0.00"
    "team" "2"
}

{
	"classname" "func_simpleladder"
	; _ladder_startalternativeT_cloned_starttallangled
	;"model" "684.191 3062 368"
	"model" "*120"
	"origin" "1365 7121 0"
	"angles" "0 180 0"
    "normal.x" "0.00"
    "normal.y" "1.00"
    "normal.z" "0.00"
    "team" "2"
}

{
	"classname" "func_simpleladder"
	; _ladder_startpermstuck_cloned_endleftfence
	;"model" "-3575 -1142 777.5"
	"origin" "4159 3762 -608"
	"angles" "0.00 0.00 0.00"
    "model" "*52"        
    "normal.x" "0.00"
    "normal.y" "-1.00"
    "normal.z" "0.00"
    "team" "2"
}

{
	"classname" "func_simpleladder"
	; _ladder_tankfenceback_cloned_startfence
	;"model" "527 2940 162.12"
	"origin" "-1927 -1661 107"
	"angles" "0.00 0.00 0.00"
    "model" "*54"        
    "normal.x" "-1.00"
    "normal.y" "0.00"
    "normal.z" "0.00"
    "team" "2"
}

{
	"classname" "func_simpleladder"
	; _ladder_tankfencefront_cloned_dispcrouchfence
	;"model" "4673 994 239.551"
	"origin" "-6066 228 26"
	"angles" "0.00 0.00 0.00"
    "model" "*53"        
    "normal.x" "1.00"
    "normal.y" "0.00"
    "normal.z" "0.00"
    "team" "2"
}

{
	"classname" "func_simpleladder"
	; _ladder_upperbalconynear_cloned_upperbalconyfar
	;"model" "3078 1644 376"
	"origin" "890 161 10"
	"angles" "0.00 0.00 0.00"
    "model" "*12"        
    "normal.x" "1.00"
    "normal.y" "0.00"
    "normal.z" "0.00"
    "team" "2"
}

{
	"classname" "func_simpleladder"
	; _ladder_witchentryfrontleft_cloned_witchentryback
	;"model" "-1356.6 412.195 698.459"
	"model" "*140"
	"origin" "-2713 805 0"
	"angles" "0 -180 0"
    "normal.x" "0.00"
    "normal.y" "-1.00"
    "normal.z" "0.00"
    "team" "2"
}

{
	"classname" "func_simpleladder"
	; _ladder_witchentryfrontright_cloned_witchentryback
	;"model" "-1356.6 412.195 698.459"
	"model" "*140"
	"origin" "-2016 805 0"
	"angles" "0 -180 0"
    "normal.x" "0.00"
    "normal.y" "-1.00"
    "normal.z" "0.00"
    "team" "2"
}

{
	"classname" "func_simpleladder"
	; _ladder_witchfarbackL_cloned_witchentryback
	;"model" "-1356.6 412.195 698.459"
	"model" "*140"
	"origin" "-3434 -730 65"
	"angles" "0 -180 0"
    "normal.x" "0.00"
    "normal.y" "-1.00"
    "normal.z" "0.00"
    "team" "2"
}

{
	"classname" "func_simpleladder"
	; _ladder_witchfarbackM_cloned_witchentryback
	;"model" "-1356.6 412.195 698.459"
	"model" "*140"
	"origin" "-2669 -730 65"
	"angles" "0 -180 0"
    "normal.x" "0.00"
    "normal.y" "-1.00"
    "normal.z" "0.00"
    "team" "2"
}

{
	"classname" "func_simpleladder"
	; _ladder_witchfarbackR_cloned_witchentryback
	;"model" "-1356.6 412.195 698.459"
	"model" "*140"
	"origin" "-1905 -730 65"
	"angles" "0 -180 0"
    "normal.x" "0.00"
    "normal.y" "-1.00"
    "normal.z" "0.00"
    "team" "2"
}

{
	"classname" "func_simpleladder"
	; _ladder_witchtentsleft_cloned_witchhedgeleft
	;"model" "-1594 -920 700"
	"model" "*23"
	;"origin" "-1462 536 0"
	"origin" "-1462.00 536.00 6.00"
	"angles" "0 90 0"
    "normal.x" "0.00"
    "normal.y" "1.00"
    "normal.z" "0.00"
    "team" "2"
}

{
	"classname" "func_simpleladder"
	; _ladder_witchtentsright_cloned_witchhedgeleft
	;"model" "-1594 -920 700"
	"model" "*23"
	"origin" "-2232 536 0"
	"angles" "0 90 0"
    "normal.x" "0.00"
    "normal.y" "1.00"
    "normal.z" "0.00"
    "team" "2"
}

; prop
{
	"classname" "prop_dynamic"
    ; _solidify_endacvent
	"model" "models/props_rooftop/acvent04.mdl"
	"origin" "-3920 1027 1056.8"
	"angles" "0 180 0"
    "disableshadows" "1"
	"solid" "6"
}

{
	"classname" "prop_dynamic"
    ; _solidify_endchimney
	"model" "models/props_urban/chimney007.mdl"
	"origin" "-4027.48 830.86 1056"
	"angles" "2 270 0"
    "disableshadows" "1"
	"solid" "6"
}

{
	"classname" "prop_dynamic"
    ; _tankfence_wrongway
	"model" "models/props_misc/wrongway_sign01_optimized.mdl"
	"origin" "-2025 1527 259"
	"angles" "0 326.5 0"
    "disableshadows" "1"
	"solid" "0"
	"rendercolor" 
	"rendercolor" "255 255 255"
	"fademindist" "17"
	"fademaxdist" "217"
}

; from l4d2-zonemod
; ############  DIRECTOR AND EVENT CHANGES  ###########
; =====================================================
; ==          DIRECTOR & EVENT MODIFICATION          ==
; ==       Modify director behaviour and events      ==
; =====================================================


; ################  ITEM SPAWN CHANGES  ###############
; =====================================================
; ==           PILL / ITEM / WEAPON SPAWNS           ==
; ==   Remove or change pill, item & weapon spawns   ==
; =====================================================
add:
; --- Pistol spawn in the counter on the bar
{
	;"classname" "weapon_spawn"
	"classname" "weapon_pistol_spawn"
	"origin" "3263 1870 245"
	"angles" "0 75 90"
	;"weapon_selection" "weapon_pistol"
	;"spawn_without_director" "1"
	"solid" "6"
	"disableshadows" "1"
	"spawnflags" "2"
	"count" "5"
}
; --- Random T1 weapon in the back of the pickup truck at the ramp before the apartments
{
	;"classname" "weapon_spawn"
	"classname" "weapon_pumpshotgun_spawn"
	"origin" "-743 1005 261"
	"angles" "0 75 90"
	;"weapon_selection" "tier1_any"
	;"spawn_without_director" "1"
	"solid" "6"
	"disableshadows" "1"
	"spawnflags" "3"
	"count" "5"
}
; --- Make the weapons in the covenience store spawn
; modify:
;{
;	match:
;	{
;		"hammerid" "508847"
;	}
;	insert:
;	{
;		"OnVersus" "ptemplate_tier1_weapons_1,ForceSpawn,,0,-1"
;	}
;}
; --- Allow weapon spawns in the apartments to spawn in versus
;filter:
;{
;	"targetname" "ptemplate_weapons_any_a_1"
;}
;{
;	"targetname" "ptemplate_weapons_any_a_2"
;}

add:
{
	; shotgun
	"solid" "6"
	"origin" "2240 1853.76 673.404"
	"angles" "0 350 90"
	"classname" "weapon_pumpshotgun_spawn"
	"spawnflags" "2"
	"count" "5"
	"disableshadows"	"1"
}
{
	; smg
	"solid" "6"
	"origin" "2255.21 1872 673.404"
	"angles" "0 210 90"
	"classname" "weapon_smg_spawn"
	"spawnflags" "2"
	"count" "5"
	"disableshadows"	"1"
}

; =====================================================
; ==                STATIC AMMO PILES                ==
; ==          Add or modify ammo pile spawns         ==
; =====================================================
add:
; --- Ammo pile by the stairs in the apartments
{
	"classname" "weapon_ammo_spawn"
	"origin" "2275 2322 352"
	"angles" "0 0 0"
	"model" "models/props/terror/ammo_stack.mdl"
	"solid" "6"
	"disableshadows" "1"
	"spawnflags" "2"
	"count" "5"
}

; =====================================================
; ==                 HITTABLE CHANGES                ==
; ==           Add/remove/modify hittables           ==
; =====================================================
; --- Fix car that spawns inside truck that can incap players if something displaces it
modify:
{
	match:
	{
		;"targetname" "caralarm_4-caralarm_car1"
		"targetname" "/.*c_4-c_c1.*/"
	}
	replace:
	{
		"origin" "3535.35 2880.31 44.073"
	}
}
{
	match:
	{
		;"parentname" "caralarm_4-caralarm_car1"
		"parentname" "c_4-c_c1"
		"origin" "3519.35 2880.31 40.073"
	}
	replace:
	{
		"origin" "3535.35 2880.31 44.073"
	}
}

{
	match:
	{
		;"parentname" "caralarm_4-caralarm_car1"
		;"origin" "3519.35 2880.31 40.073"
		"parentname" "c_4-c_c1_off"
		"origin" "3519 2881 40.073"
	}
	replace:
	{
		"origin" "3535.35 2880.31 44.073"
	}
}

{
	match:
	{
		;"targetname" "caralarm_4-caralarm_light1"
		"targetname" "c_4-c_l1"
		"origin" "3577.79 2973.33 71.168"
	}
	replace:
	{
		"origin" "3593.79 2973.33 75.168"
	}
}
{
	match:
	{
		;"targetname" "caralarm_4-caralarm_light1"
		"targetname" "c_4-c_l1"
		"origin" "3616.68 2932.07 71.169"
	}
	replace:
	{
		"origin" "3632.68 2932.07 75.169"
	}
}
{
	match:
	{
		;"targetname" "caralarm_4-caralarm_light1"
		"targetname" "c_4-c_l1"
		"origin" "3422.15 2843.06 69.031"
	}
	replace:
	{
		"origin" "3438.15 2843.06 73.031"
	}
}
{
	match:
	{
		;"targetname" "caralarm_4-caralarm_light1"
		"targetname" "c_4-c_l1"
		"origin" "3474.17 2786.3 69"
	}
	replace:
	{
		"origin" "3490.17 2786.3 73"
	}
}
{
	match:
	{
		;"targetname" "caralarm_4-caralarm_headlights1"
		"targetname" "c_4-c_hl1"
		"origin" "3425.3 2833.74 69.679"
	}
	replace:
	{
		"origin" "3441.3 2833.74 73.679"
	}
}
{
	match:
	{
		;"targetname" "caralarm_4-caralarm_headlights1"
		"targetname" "c_4-c_hl1"
		"origin" "3464.48 2790.98 69.693"
	}
	replace:
	{
		"origin" "3480.48 2790.98 73.693"
	}
}
;{
;	match:
;	{
;		"targetname" "caralarm_4-maker_alarm_on"
;		"origin" "3511.65 2883.2 191.703"
;	}
;	replace:
;	{
;		"origin" "3527.65 2883.2 195.703"
;	}
;}
; --- Make various cars unhittable due to large number of hittable cars
; --- Saferoom
filter:
{
	;"targetname" "car_physics-InstanceAuto93"
	"targetname" "c_p-IA93"
}
{
	;"parentname" "car_physics-InstanceAuto93"
	"parentname" "c_p-IA93"
}
{
	;"targetname" "car_physics-InstanceAuto91"
	"targetname" "c_p-IA91"
}
{
	;"parentname" "car_physics-InstanceAuto91"
	"parentname" "c_p-IA91"
}
add:
; --- car_physics-InstanceAuto93
{
	"classname" "prop_dynamic"
	"origin" "1618 2986 91"
	"angles" "-0.938878 149.461 -0.606584"
	"model" "models/props_vehicles/cara_82hatchback.mdl"
	"solid" "6"
	"disableshadows" "1"
}
{
	"classname" "prop_dynamic"
	"origin" "1618 2986 91"
	"angles" "-0.938878 149.461 -0.606584"
	"model" "models/props_vehicles/cara_82hatchback_glass.mdl"
	"solid" "6"
	"disableshadows" "1"
}
; --- car_physics-InstanceAuto91
{
	"classname" "prop_dynamic"
	"origin" "2441 2919 70"
	"angles" "-1.93657 193.877 1.58105"
	"model" "models/props_vehicles/cara_84sedan.mdl"
	"solid" "6"
	"disableshadows" "1"
}
{
	"classname" "prop_dynamic"
	"origin" "2441 2919 70"
	"angles" "-1.93657 193.877 1.58105"
	"model" "models/props_vehicles/cara_84sedan_glass.mdl"
	"solid" "6"
	"disableshadows" "1"
}
; --- Car park
; --- Remaining hittables: caralarm_4-caralarm_car1
filter:
{
	;"targetname" "car_physics-InstanceAuto41"
	"targetname" "c_p-IA41"
}
{
	;"parentname" "car_physics-InstanceAuto41"
	"parentname" "c_p-IA41"
}
{
	;"targetname" "car_physics-InstanceAuto49"
	"targetname" "c_p-IA49"
}
{
	;"parentname" "car_physics-InstanceAuto49"
	"parentname" "c_p-IA49"
}
{
	;"targetname" "car_physics-InstanceAuto50"
	"targetname" "c_p-IA50"
}
{
	;"parentname" "car_physics-InstanceAuto50"
	"parentname" "c_p-IA50"
}
{
	;"targetname" "car_physics-InstanceAuto51"
	"targetname" "c_p-IA51"
}
{
	;"parentname" "car_physics-InstanceAuto51"
	"parentname" "c_p-IA51"
}
{
	;"targetname" "car_physics-InstanceAuto92"
	"targetname" "c_p-IA92"
}
{
	;"parentname" "car_physics-InstanceAuto92"
	"parentname" "c_p-IA92"
}
{
	;"targetname" "car_physics-InstanceAuto48"
	"targetname" "c_p-IA48"
}
{
	;"parentname" "car_physics-InstanceAuto48"
	"parentname" "c_p-IA48"
}
add:
; --- car_physics-InstanceAuto41
{
	"classname" "prop_dynamic"
	"origin" "3833 3006 31"
	"angles" "-1.67622 166.969 -2.66401"
	"model" "models/props_vehicles/cara_69sedan.mdl"
	"solid" "6"
	"disableshadows" "1"
}
{
	"classname" "prop_dynamic"
	"origin" "3833 3006 31"
	"angles" "-1.67622 166.969 -2.66401"
	"model" "models/props_vehicles/cara_69sedan_glass.mdl"
	"solid" "6"
	"disableshadows" "1"
}
; --- car_physics-InstanceAuto49
{
	"classname" "prop_dynamic"
	"origin" "3775 3596 31"
	"angles" "0 89.425 0"
	"model" "models/props_vehicles/cara_82hatchback.mdl"
	"solid" "6"
	"disableshadows" "1"
}
{
	"classname" "prop_dynamic"
	"origin" "3775 3596 31"
	"angles" "0 89.425 0"
	"model" "models/props_vehicles/cara_82hatchback_glass.mdl"
	"solid" "6"
	"disableshadows" "1"
}
; --- car_physics-InstanceAuto50
{
	"classname" "prop_dynamic"
	"origin" "4479 3595 32"
	"angles" "0 107.425 0"
	"model" "models/props_vehicles/cara_82hatchback.mdl"
	"solid" "6"
	"disableshadows" "1"
}
{
	"classname" "prop_dynamic"
	"origin" "4479 3595 32"
	"angles" "0 107.425 0"
	"model" "models/props_vehicles/cara_82hatchback_glass.mdl"
	"solid" "6"
	"disableshadows" "1"
}
; --- car_physics-InstanceAuto51
{
	"classname" "prop_dynamic"
	"origin" "4320 3234 31"
	"angles" "0 273.925 0"
	"model" "models/props_vehicles/cara_84sedan.mdl"
	"solid" "6"
	"disableshadows" "1"
}
{
	"classname" "prop_dynamic"
	"origin" "4320 3234 31"
	"angles" "0 273.925 0"
	"model" "models/props_vehicles/cara_84sedan_glass.mdl"
	"solid" "6"
	"disableshadows" "1"
}
; --- Bar exit
; --- Remaining hittables: InstanceAuto24-caralarm_car1
filter:
{
	;"targetname" "caralarm_2-caralarm_car1"
	"targetname" "/.*c_2-c_c1.*/"
}
{
	;"parentname" "caralarm_2-caralarm_car1"
	"parentname" "/.*c_2-c_c1.*/"
}
{
	;"targetname" "InstanceAuto57-car_physics"
	"targetname" "/.*IA57-c_p.*/"
}
{
	;"parentname" "InstanceAuto57-car_physics"
	"parentname" "/.*IA57-c_p.*/"
}
{
	;"targetname" "caralarm_6-caralarm_car1"
	"targetname" "/.*c_6-c_c1.*/"
}
{
	;"parentname" "caralarm_6-caralarm_car1"
	"parentname" "/.*c_6-c_c1.*/"
}
{
	;"targetname" "InstanceAuto2-caralarm_car1"
	"targetname" "/.*IA2-c_c1.*/"
}
{
	;"parentname" "InstanceAuto2-caralarm_car1"
	"parentname" "/.*IA2-c_c1.*/"
}
{
	;"targetname" "InstanceAuto24-caralarm_car1"
	"targetname" "/.*IA24-c_c1.*/"
}
{
	;"parentname" "InstanceAuto24-caralarm_car1"
	"parentname" "/.*IA24-c_c1.*/"
}
add:
; --- caralarm_2-caralarm_car1
{
	"classname" "prop_dynamic"
	"origin" "4136 1706 115"
	"angles" "-2.46945 267.317 -5.27077"
	"model" "models/props_vehicles/cara_95sedan.mdl"
	"solid" "6"
	"disableshadows" "1"
}
{
	"classname" "prop_dynamic"
	"origin" "4136 1706 115"
	"angles" "-2.46945 267.317 -5.27077"
	"model" "models/props_vehicles/cara_95sedan_glass.mdl"
	"solid" "6"
	"disableshadows" "1"
}
; --- Clipping to stop players getting stuck between wall and car
{
	"classname" "env_player_blocker"
	"origin" "4088 1731 153"
	"mins" "-22 -37 -26"
	"maxs" "22 37 26"
	"initialstate" "1"
	"BlockType" "0"
}
; --- InstanceAuto57-car_physics
{
	"classname" "prop_dynamic"
	"origin" "3222 1218 191"
	"angles" "0 5.68544 0"
	"model" "models/props_vehicles/cara_84sedan.mdl"
	"solid" "6"
	"disableshadows" "1"
}
{
	"classname" "prop_dynamic"
	"origin" "3222 1218 191"
	"angles" "0 5.68544 0"
	"model" "models/props_vehicles/cara_84sedan_glass.mdl"
	"solid" "6"
	"disableshadows" "1"
}
; --- caralarm_6-caralarm_car1
{
	"classname" "prop_dynamic"
	"origin" "2928 1305 189"
	"angles" "0.707089 134.996 -0.707143"
	"model" "models/props_vehicles/cara_95sedan.mdl"
	"solid" "6"
	"disableshadows" "1"
}
{
	"classname" "prop_dynamic"
	"origin" "2928 1305 189"
	"angles" "0.707089 134.996 -0.707143"
	"model" "models/props_vehicles/cara_95sedan_glass.mdl"
	"solid" "6"
	"disableshadows" "1"
}
; --- InstanceAuto2-caralarm_car1
{
	"classname" "prop_dynamic"
	"origin" "2656 1089 195"
	"angles" "0.213538 176.507 3.49349"
	"model" "models/props_vehicles/cara_95sedan.mdl"
	"solid" "6"
	"disableshadows" "1"
}
{
	"classname" "prop_dynamic"
	"origin" "2656 1089 195"
	"angles" "0.213538 176.507 3.49349"
	"model" "models/props_vehicles/cara_95sedan_glass.mdl"
	"solid" "6"
	"disableshadows" "1"
}
; --- Clipping to stop players getting stuck between wall and car
{
	"classname" "env_player_blocker"
	"origin" "2677 1041 227"
	"mins" "-37 -18 -32"
	"maxs" "37 18 32"
	"initialstate" "1"
	"BlockType" "0"
}
; --- Lower alley
filter:
{
	;"targetname" "caralarm_8-caralarm_car1"
	"targetname" "/.*c_8-c_c1.*/"
}
{
	;"parentname" "caralarm_8-caralarm_car1"
	"parentname" "/.*c_8-c_c1.*/"
}
{
	;"targetname" "InstanceAuto58-car_physics"
	"targetname" "/.*IA58-c_p.*/"
}
{
	;"parentname" "InstanceAuto58-car_physics"
	"parentname" "/.*IA58-c_p.*/"
}
{
	;"targetname" "InstanceAuto59-car_physics"
	"targetname" "/.*IA59-c_p.*/"
}
{
	;"parentname" "InstanceAuto59-car_physics"
	"parentname" "/.*IA59-c_p.*/"
}
add:
; --- caralarm_8-caralarm_car1
{
	"classname" "prop_dynamic"
	"origin" "2232 1525 189"
	"angles" "0 165 0"
	"model" "models/props_vehicles/cara_95sedan.mdl"
	"solid" "6"
	"disableshadows" "1"
}
{
	"classname" "prop_dynamic"
	"origin" "2232 1525 189"
	"angles" "0 165 0"
	"model" "models/props_vehicles/cara_95sedan_glass.mdl"
	"solid" "6"
	"disableshadows" "1"
}
; --- InstanceAuto58-car_physics
{
	"classname" "prop_dynamic"
	"origin" "1553 1337 196"
	"angles" "2.10312 5.46993 -5.56475"
	"model" "models/props_vehicles/cara_95sedan.mdl"
	"solid" "6"
	"disableshadows" "1"
}
{
	"classname" "prop_dynamic"
	"origin" "1553 1337 196"
	"angles" "2.10312 5.46993 -5.56475"
	"model" "models/props_vehicles/cara_95sedan_glass.mdl"
	"solid" "6"
	"disableshadows" "1"
}
; --- Clipping to stop players getting stuck between wall and car
{
	"classname" "env_player_blocker"
	"origin" "1531 1295 227"
	"mins" "-37 -16 -34"
	"maxs" "37 16 34"
	"initialstate" "1"
	"BlockType" "0"
}
; --- InstanceAuto59-car_physics
{
	"classname" "prop_dynamic"
	"origin" "1134 1352 195"
	"angles" "0.207594 5.48092 -6.75066"
	"model" "models/props_vehicles/cara_69sedan.mdl"
	"solid" "6"
	"disableshadows" "1"
}
{
	"classname" "prop_dynamic"
	"origin" "1134 1352 195"
	"angles" "0.207594 5.48092 -6.75066"
	"model" "models/props_vehicles/cara_69sedan_glass.mdl"
	"solid" "6"
	"disableshadows" "1"
}
; --- Upper alley
; --- Remaining hittables: InstanceAuto44-caralarm_car1
filter:
{
	;"targetname" "caralarm_3-caralarm_car1"
	"targetname" "/.*c_3-c_c1.*/"
}
{
	;"parentname" "caralarm_3-caralarm_car1"
	"parentname" "/.*c_3-c_c1.*/"
}
{
	;"targetname" "caralarm_7-caralarm_car1"
	"targetname" "/.*c_7-c_c1.*/"
}
{
	;"parentname" "caralarm_7-caralarm_car1"
	"parentname" "/.*c_7-c_c1.*/"
}
;{
;	;"targetname" "InstanceAuto44-caralarm_car1"
;	"targetname" "/.*IA44-c_c1.*/"
;}
;{
;	;"parentname" "InstanceAuto44-caralarm_car1"
;	"parentname" "/.*IA44-c_c1.*/"
;}
add:
; --- caralarm_7-caralarm_car1
{
	"classname" "prop_dynamic"
	"origin" "1438 1207 350"
	"angles" "-0.499467 180.026 -2.50004"
	"model" "models/props_vehicles/cara_95sedan.mdl"
	"solid" "6"
	"disableshadows" "1"
}
{
	"classname" "prop_dynamic"
	"origin" "1438 1207 350"
	"angles" "-0.499467 180.026 -2.50004"
	"model" "models/props_vehicles/cara_95sedan_glass.mdl"
	"solid" "6"
	"disableshadows" "1"
}
; --- InstanceAuto44-caralarm_car1
;{
;	"classname" "prop_dynamic"
;	"origin" "280 1097 348"
;	"angles" "-0.488467 212.879 2.00529"
;	"model" "models/props_vehicles/cara_95sedan.mdl"
;	"solid" "6"
;	"disableshadows" "1"
;}
;{
;	"classname" "prop_dynamic"
;	"origin" "280 1097 348"
;	"angles" "-0.488467 212.879 2.00529"
;	"model" "models/props_vehicles/cara_95sedan_glass.mdl"
;	"solid" "6"
;	"disableshadows" "1"
;}
; --- Clipping to stop players getting stuck between wall and car
{
	"classname" "env_player_blocker"
	"origin" "1452 1263 375"
	"mins" "-89 -16 -18"
	"maxs" "89 16 18"
	"initialstate" "1"
	"BlockType" "0"
}


; #############  MAP CLIPPING AND ISSUES  #############
; =====================================================
; ==                 EXPLOITS BLOCKED                ==
; ==      Block intentionally performed exploits     ==
; =====================================================
add:
; --- Block survivors from standing on the fences in the saferoom
{
	"classname" "env_player_blocker"
	"origin" "1149 4145 1596"
	"mins" "-3 -577 -1500"
	"maxs" "3 577 1500"
	"initialstate" "1"
	"BlockType" "1"
}
{
	"classname" "env_player_blocker"
	"origin" "706 4504 1596"
	"mins" "-2 -218 -1500"
	"maxs" "2 218 1500"
	"initialstate" "1"
	"BlockType" "1"
}
; --- Block survivors from skipping over the truck / bus outside saferoom  (can be re-enabled if angled blockers get fixed) (#34)
;{
;	"classname" "env_player_blocker"
;	"origin" "1832 2718 1592"
;	"mins" "-47 -53 -1504"
;	"maxs" "47 53 1504"
;	"initialstate" "1"
;	"BlockType" "1"
;}
;{
;	"classname" "env_player_blocker"
;	"origin" "2033 2956 1668"
;	"angles" "0 -143.066 0"
;	"mins" "-236 -52 -1428"
;	"maxs" "236 52 1428"
;	"boxmins" "-236 -52 -1428"
;	"boxmaxs" "236 52 1428"
;	"initialstate" "1"
;	"BlockType" "1"
;}
; --- Replacement clip on truck
{
	"classname" "env_player_blocker"
	"origin" "1827 2718 159"
	"mins" "-51 -53 -71"
	"maxs" "51 53 71"
	"initialstate" "1"
	"BlockType" "1"
}
; --- Block jumping from a planter under the bus by saferoom to the fence, also makes the jump from the hedges harder
{
	"classname" "env_player_blocker"
	"origin" "2288 3086 96"
	"mins" "-56 -2 -25"
	"maxs" "56 2 25"
	"initialstate" "1"
	"BlockType" "1"
}
; --- Block survivors from standing on the fallen bus
{
	"classname" "env_player_blocker"
	"origin" "2737 3209 154"
	;"angles" "16 131.509 7.1"
	"mins" "-236 -52 0"
	"maxs" "236 52 40"
	;"boxmins" "-236 -52 0"
	;"boxmaxs" "236 52 40"
	"initialstate" "1"
	"BlockType" "1"
}
{
	"classname" "env_player_blocker"
	"origin" "2564 3330 120"
	"mins" "-16 -10 -24"
	"maxs" "16 10 24"
	"initialstate" "1"
	"BlockType" "1"
}
; --- Block survivors from jumping on the truck outside the souvenirs store to jump into the window
{
	"classname" "env_player_blocker"
	"origin" "2750 2795 112"
	"mins" "-70 -53 -50"
	"maxs" "70 53 50"
	"initialstate" "1"
	"BlockType" "1"
}
{
	"classname" "env_player_blocker"
	"origin" "2711 2850 112"
	"mins" "-31 -2 -50"
	"maxs" "31 2 50"
	"initialstate" "1"
	"BlockType" "1"
}
{
	"classname" "env_player_blocker"
	"origin" "2708 2740 112"
	"mins" "-28 -2 -50"
	"maxs" "28 2 50"
	"initialstate" "1"
	"BlockType" "1"
}
; --- Block survivors from climbing the scaffolding by the souvenirs store
{
	"classname" "env_player_blocker"
	"origin" "2676 2628 1653"
	"mins" "-158 -47 -1443"
	"maxs" "158 47 1443"
	"initialstate" "1"
	"BlockType" "1"
}
; --- Block survivors from climbing an electrical box before the alleyway
{
	"classname" "env_player_blocker"
	"origin" "2781 1029 557"
	"mins" "-30 -5 -291"
	"maxs" "30 5 291"
	"initialstate" "1"
	"BlockType" "1"
}
; --- Make a common jump to skip the lower alleyway harder to perform (can't be fully blocked)
{
	"classname" "env_player_blocker"
	"origin" "2306 1108 373"
	"mins" "-6 -82 -20"
	"maxs" "6 82 20"
	"initialstate" "1"
	"BlockType" "1"
}
; --- Block survivors from climbing up the displacement in the alleyway by the alarm car
{
	"classname" "env_player_blocker"
	"origin" "1898 1283 273"
	"mins" "-58 -6 -81"
	"maxs" "58 6 81"
	"initialstate" "1"
	"BlockType" "1"
}
{
	"classname" "env_player_blocker"
	"origin" "2021 1283 273"
	"mins" "-28 -6 -81"
	"maxs" "28 6 81"
	"initialstate" "1"
	"BlockType" "1"
}
; --- Block survivors from standing on garage doors at the ramp by the apartments
{
	"classname" "env_player_blocker"
	"origin" "-276 1525 409"
	"mins" "-68.5 -13 -92"
	"maxs" "68.5 13 92"
	"initialstate" "1"
	"BlockType" "1"
}
{
	"classname" "env_player_blocker"
	"origin" "-20 1525 409"
	"mins" "-68.5 -13 -92"
	"maxs" "68.5 13 92"
	"initialstate" "1"
	"BlockType" "1"
}
{
	"classname" "env_player_blocker"
	"origin" "365 1525 409"
	"mins" "-68.5 -13 -92"
	"maxs" "68.5 13 92"
	"initialstate" "1"
	"BlockType" "1"
}
; --- Block survivors from climbing the scaffolding inside the apartments
{
	"classname" "env_player_blocker"
	"origin" "1888 1846 735"
	"mins" "-50 -160 -89"
	"maxs" "50 160 89"
	"initialstate" "1"
	"BlockType" "1"
}
; --- Block survivors from standing in the large windows in the apartments
{
	"classname" "env_player_blocker"
	"origin" "1760 1608 752"
	"mins" "-160 -8 -64"
	"maxs" "160 8 64"
	"initialstate" "1"
	"BlockType" "1"
}
{
	"classname" "env_player_blocker"
	"origin" "2224 1608 752"
	"mins" "-160 -8 -64"
	"maxs" "160 8 64"
	"initialstate" "1"
	"BlockType" "1"
}
; --- Block survivors from standing on the porta potty before the park
{
	"classname" "env_player_blocker"
	"origin" "1753 520 1872"
	"mins" "-29 -28 -1224"
	"maxs" "29 28 1224"
	"initialstate" "1"
	"BlockType" "1"
}
; --- Block survivors from standing on the walls at the park entrance
{
	"classname" "env_player_blocker"
	"origin" "1408 400 1876"
	"mins" "-460 -12 -1220"
	"maxs" "460 12 1220"
	"initialstate" "1"
	"BlockType" "1"
}
{
	"classname" "env_player_blocker"
	"origin" "517 400 1876"
	"mins" "-263 -12 -1220"
	"maxs" "263 12 1220"
	"initialstate" "1"
	"BlockType" "1"
}
; --- Block survivors from walking along a wall at the back of the park by the guns
{
	"classname" "env_player_blocker"
	"origin" "1840 -368 1840"
	"mins" "-16 -752 -1256"
	"maxs" "16 752 1256"
	"initialstate" "1"
	"BlockType" "1"
}

; =====================================================
; ==                  OUT OF BOUNDS                  ==
; ==  Block players getting outside / under the map  ==
; =====================================================
add:
; --- Block players from getting out of bounds to the right of the saferoom and street right of the end saferoom
{
	"classname" "env_player_blocker"
	"origin" "-2762 4666 1504"
	"mins" "-2774 -2022 -1592"
	"maxs" "2774 2022 1592"
	"initialstate" "1"
	"BlockType" "0"
}
{
	"classname" "env_player_blocker"
	"origin" "-328 2402 1052"
	"mins" "-184 -242 -1140"
	"maxs" "184 242 1140"
	"initialstate" "1"
	"BlockType" "0"
}
; --- Block survivors from getting over the fence behind the trucks by the souvenirs store
{
	"classname" "env_player_blocker"
	"origin" "5104 3248 1732"
	"mins" "-344 -624 -1364"
	"maxs" "344 624 1364"
	"initialstate" "1"
	"BlockType" "1"
}
{
	"classname" "env_player_blocker"
	"origin" "5130 3670 140"
	"mins" "-318 -58 -228"
	"maxs" "318 58 228"
	"initialstate" "1"
	"BlockType" "1"
}
; --- Block players from going out of bounds in the area behind the trucks by the souvenirs store
{
	"classname" "env_player_blocker"
	"origin" "7524 3984 1504"
	"mins" "-2080 -2704 -1592"
	"maxs" "2080 2704 1592"
	"initialstate" "1"
	"BlockType" "0"
}
; --- Block players from getting under the map behind the fence after the bar
{
	"classname" "env_player_blocker"
	"origin" "6108 1056 1504"
	"mins" "-860 -1280 -1592"
	"maxs" "860 1280 1592"
	"initialstate" "1"
	"BlockType" "0"
}
; --- Block players getting out of bounds in all the areas behind the end saferoom
{
	"classname" "env_player_blocker"
	"origin" "-5328 224 1504"
	"mins" "-784 -2432 -1592"
	"maxs" "784 2432 1592"
	"initialstate" "1"
	"BlockType" "0"
}
{
	"classname" "env_player_blocker"
	"origin" "-4464 -960 2096"
	"mins" "-80 -176 -1000"
	"maxs" "80 176 1000"
	"initialstate" "1"
	"BlockType" "0"
}

; =====================================================
; ==                   STUCK SPOTS                   ==
; ==  Prevent players from getting stuck in the map  ==
; =====================================================
add:
; --- Fix a sliding stuck spot on the bus in the alley
{
	"classname" "env_player_blocker"
	"origin" "705 1292 314"
	"mins" "-223 -16 -7"
	"maxs" "223 16 7"
	"initialstate" "1"
	"BlockType" "0"
}
; --- Prevent players from getting stuck behind the end saferoom
{
	"classname" "env_player_blocker"
	"origin" "-4328 464 1020"
	"mins" "-88 -288 -316"
	"maxs" "88 288 316"
	"initialstate" "1"
	"BlockType" "0"
}

; =====================================================
; ==                 NUISANCE CHANGES                ==
; ==      Clipping improvements, QOL map changes     ==
; =====================================================
add:
; --- Solidify props on roof above the saferoom
{
	"classname" "prop_dynamic"
	"origin" "570 4199 343"
	"angles" "0 270 0"
	"model" "models/props_rooftop/acvent04.mdl"
	"solid" "6"
	"disableshadows" "1"
	"rendermode" "10"
}
{
	"classname" "logic_auto"
	"OnMapSpawn" "solidify_chimney_saferoom,AddOutput,mins -24 -24 -60,0,-1"
	"OnMapSpawn" "solidify_chimney_saferoom,AddOutput,maxs 24 24 60,0,-1"
	"OnMapSpawn" "solidify_chimney_saferoom,AddOutput,solid 2,0,-1"
}
{
	"classname" "func_brush"
	"origin" "652 3670 700"
	"targetname" "solidify_chimney_saferoom"
}
{
	"classname" "env_player_blocker"
	"origin" "652 3670 700"
	"mins" "-24.1 -24.1 -60.1"
	"maxs" "24.1 24.1 60.1"
	"initialstate" "1"
	"BlockType" "2"
}
; --- Clipping to fix players getting stuck on the pavement at the back of the saferoom
{
	"classname" "env_player_blocker"
	"origin" "798 4416 92"
	"mins" "-2 -304 -4"
	"maxs" "2 304 4"
	"initialstate" "1"
	"BlockType" "0"
}
{
	"classname" "env_player_blocker"
	"origin" "1058 4416 92"
	"mins" "-2 -304 -4"
	"maxs" "2 304 4"
	"initialstate" "1"
	"BlockType" "0"
}
; --- Clipping on windows and doors in the saferoom
{
	"classname" "env_player_blocker"
	"origin" "696 3244 168"
	"mins" "-8 -28 -48"
	"maxs" "8 28 48"
	"initialstate" "1"
	"BlockType" "0"
}
{
	"classname" "env_player_blocker"
	"origin" "696 3684 168"
	"mins" "-8 -212 -48"
	"maxs" "8 212 48"
	"initialstate" "1"
	"BlockType" "0"
}
{
	"classname" "env_player_blocker"
	"origin" "690 3376 172"
	"mins" "-2 -40 -68"
	"maxs" "2 40 68"
	"initialstate" "1"
	"BlockType" "0"
}
{
	"classname" "env_player_blocker"
	"origin" "700 4176 156"
	"mins" "-4 -24 -52"
	"maxs" "4 24 52"
	"initialstate" "1"
	"BlockType" "0"
}
; --- Clipping on racecar in the saferoom
;{
;	"classname" "env_player_blocker"
;	"origin" "957 3940 135"
;	;"angles" "0 0 20"
;	"mins" "-5 -18 -6"
;	"maxs" "5 18 6"
;	;"boxmins" "-5 -18 -6"
;	;"boxmaxs" "5 18 6"
;	"initialstate" "1"
;	"BlockType" "0"
;}
;{
;	"classname" "env_player_blocker"
;	"origin" "899 3940 135"
;	;"angles" "0 0 20"
;	"mins" "-5 -18 -6"
;	"maxs" "5 18 6"
;	;"boxmins" "-5 -18 -6"
;	;"boxmaxs" "5 18 6"
;	"initialstate" "1"
;	"BlockType" "0"
;}
;{
;	"classname" "env_player_blocker"
;	"origin" "928 3904 144"
;	;"angles" "0 0 20"
;	"mins" "-35 -5 -12"
;	"maxs" "35 5 12"
;	;"boxmins" "-35 -5 -12"
;	;"boxmaxs" "35 5 12"
;	"initialstate" "1"
;	"BlockType" "0"
;}
;{
;	"classname" "env_player_blocker"
;	"origin" "884 4083 102"
;	;"angles" "0 45 0"
;	"mins" "-3 -4 -15"
;	"maxs" "3 4 15"
;	;"boxmins" "-3 -4 -15"
;	;"boxmaxs" "3 4 15"
;	"initialstate" "1"
;	"BlockType" "0"
;}
;{
;	"classname" "env_player_blocker"
;	"origin" "971 4107 102"
;	;"angles" "0 45 0"
;	"mins" "-3 -4 -15"
;	"maxs" "3 4 15"
;	;"boxmins" "-3 -4 -15"
;	;"boxmaxs" "3 4 15"
;	"initialstate" "1"
;	"BlockType" "0"
;}
;{
;	"classname" "env_player_blocker"
;	"origin" "970 4089 102"
;	"mins" "-3 -11 -15"
;	"maxs" "3 11 15"
;	"initialstate" "1"
;	"BlockType" "0"
;}
; --- Stairs on the hedges by the saferoom
;{
;	"classname" "func_brush"
;	"origin" "1260 3262 21"
;	"angles" "0 180 0"
;	"model" "*145"
;	"StartDisabled" "0"
;	"spawnflags" "2"
;	"Solidity" "2"
;}
{
	"targetname" "l4d2_spawn_props_object_2023_05_19"
	"solid" "6"
	"origin" "1240.71 3259.23 8.03"
	"angles" "0.00 360.44 0.00"
	"model"	 "models/props_exteriors/wood_stairs_wide_48.mdl"
	"classname"	"prop_dynamic"
}
{
	"classname" "prop_dynamic"
	"origin" "1188 3298 97.375"
	"angles" "-0.000552338 89.9751 358.727"
	"model" "models/props_highway/plywood_01.mdl"
	"solid" "6"
	"disableshadows" "1"
}
;{
;	"classname" "env_player_blocker"
;	"origin" "1195 3262 -7.65"
;	;"angles" "45 0 0"
;	"mins" "-76 -32 -72"
;	"maxs" "76 32 72"
;	;"boxmins" "-76 -32 -72"
;	;"boxmaxs" "76 32 72"
;	"initialstate" "1"
;	"BlockType" "0"
;}
; --- Clipping on store entrances to stop players getting stuck on the steps
{
	"classname" "env_player_blocker"
	"origin" "3520 2640 44"
	"mins" "-73 -17 -5"
	"maxs" "73 17 5"
	"initialstate" "1"
	"BlockType" "0"
}
{
	"classname" "env_player_blocker"
	"origin" "3520 2632 53"
	"mins" "-65 -9 -4"
	"maxs" "65 9 4"
	"initialstate" "1"
	"BlockType" "0"
}
{
	"classname" "env_player_blocker"
	"origin" "3264 2632 53"
	"mins" "-65 -9 -4"
	"maxs" "65 9 4"
	"initialstate" "1"
	"BlockType" "0"
}
; --- Fix area portal fade out distance in the shop entrance
modify:
{
	match:
	{
		"target" "portalbrush_A14"
	}
	replace:
	{
		"FadeStartDist" "700"
		"FadeDist" "1400"
	}
}
{
	match:
	{
		"target" "portalbrush_A20"
	}
	replace:
	{
		"FadeStartDist" "700"
		"FadeDist" "1400"
	}
}
{
	match:
	{
		"target" "portalbrush_A18"
	}
	replace:
	{
		"FadeStartDist" "700"
		"FadeDist" "1400"
	}
}
{
	match:
	{
		"target" "portalbrush_A16"
	}
	replace:
	{
		"FadeStartDist" "700"
		"FadeDist" "1400"
	}
}
{
	match:
	{
		"target" "portalbrush_A21"
	}
	replace:
	{
		"FadeStartDist" "700"
		"FadeDist" "1400"
	}
}
{
	match:
	{
		"target" "portalbrush_A29"
	}
	replace:
	{
		"FadeStartDist" "700"
		"FadeDist" "1400"
	}
}
{
	match:
	{
		"target" "portalbrush_A15"
	}
	replace:
	{
		"FadeStartDist" "700"
		"FadeDist" "1400"
	}
}
{
	match:
	{
		"target" "portalbrush_A19"
	}
	replace:
	{
		"FadeStartDist" "700"
		"FadeDist" "1400"
	}
}
; --- Move filing cabinets away from the door after the stair choke
modify:
{
	match:
	{
		;"hammerid" "569640"
		"hammerid" "2820"
	}
	replace:
	{
		"origin" "3650.53 2346.25 201.219"
	}
}
{
	match:
	{
		;"hammerid" "569644"
		"hammerid" "2821"
	}
	replace:
	{
		"origin" "3676 2344 201.219"
	}
}
{
	match:
	{
		;"hammerid" "569632"
		"hammerid" "2818"
	}
	replace:
	{
		"origin" "3653.5 2391.28 201.188"
	}
}
{
	match:
	{
		;"hammerid" "569636"
		"hammerid" "2819"
	}
	replace:
	{
		"origin" "3670.85 2365.75 201.188"
	}
}
; --- Make plywood in the bar non solid that blocks the door from opening both ways
modify:
{
	match:
	{
		;"hammerid" "569518"
		"hammerid"    "2811"
	}
	replace:
	{
		"solid" "0"
	}
}
; --- Add missing glass to vehicles
add:
{
	"classname" "prop_dynamic"
	"origin" "4064 2672 27"
	"angles" "-0.673017 245.855 -3.60462"
	"model" "models/props_vehicles/flatnose_truck_glass.mdl"
	"solid" "6"
	"disableshadows" "1"
}
{
	"classname" "prop_dynamic"
	"origin" "-1579 569.8 652.9"
	"angles" "0 0 0"
	"model" "models/props_vehicles/pickup_truck_78_glass.mdl"
	"solid" "6"
	"disableshadows" "1"
}
; --- Disable radio button in the wedding area to prevent trolling
;modify:
;{
;	match:
;	{
;		"targetname" "stage_lights_button"
;	}
;	replace:
;	{
;		"spawnflags" "1"
;	}
;}


; ###########  ADDITIONAL PROPS AND SPAWNS  ###########
; =====================================================
; ==                      PROPS                      ==
; ==       New props for balance and SI spawns       ==
; =====================================================
add:
; --- Fences on the wall in the parking lot
{
	"classname" "prop_dynamic"
	"origin" "3715 3736 72"
	"angles" "0 270 0"
	"model" "models/props_cemetery/cemetery_gate_128.mdl"
	"solid" "6"
	"disableshadows" "1"
}
{
	"classname" "prop_dynamic"
	"origin" "3843 3736 72"
	"angles" "0 270 0"
	"model" "models/props_cemetery/cemetery_gate_128.mdl"
	"solid" "6"
	"disableshadows" "1"
}
{
	"classname" "prop_dynamic"
	"origin" "3971 3736 72"
	"angles" "0 270 0"
	"model" "models/props_cemetery/cemetery_gate_128.mdl"
	"solid" "6"
	"disableshadows" "1"
}
{
	"classname" "prop_dynamic"
	"origin" "4099 3736 72"
	"angles" "0 270 0"
	"model" "models/props_cemetery/cemetery_gate_128.mdl"
	"solid" "6"
	"disableshadows" "1"
}
{
	"classname" "prop_dynamic"
	"origin" "4227 3736 72"
	"angles" "0 270 0"
	"model" "models/props_cemetery/cemetery_gate_128.mdl"
	"solid" "6"
	"disableshadows" "1"
}
{
	"classname" "prop_dynamic"
	"origin" "4355 3736 72"
	"angles" "0 270 0"
	"model" "models/props_cemetery/cemetery_gate_128.mdl"
	"solid" "6"
	"disableshadows" "1"
}
{
	"classname" "prop_dynamic"
	"origin" "4483 3736 72"
	"angles" "0 270 0"
	"model" "models/props_cemetery/cemetery_gate_128.mdl"
	"solid" "6"
	"disableshadows" "1"
}
{
	"classname" "prop_dynamic"
	"origin" "4611 3736 72"
	"angles" "0 264 0"
	"model" "models/props_cemetery/cemetery_gate_128.mdl"
	"solid" "6"
	"disableshadows" "1"
}
{
	"classname" "env_player_blocker"
	"origin" "4163 3741 126"
	"mins" "-448 -3 -54"
	"maxs" "448 3 54"
	"initialstate" "1"
	"BlockType" "1"
}
{
	"classname" "env_player_blocker"
	"origin" "4675 3735 128"
	;"angles" "0 -5 0"
	"mins" "-64 -3 -54"
	"maxs" "64 3 54"
	;"boxmins" "-64 -3 -54"
	;"boxmaxs" "64 3 54"
	"initialstate" "1"
	"BlockType" "1"
}
; --- Fences at the front of the parking lot
{
	"classname" "prop_dynamic"
	"origin" "3722 3100 32"
	"angles" "0 90 0"
	"model" "models/props_urban/fence002_128.mdl"
	"solid" "6"
	"disableshadows" "1"
}
{
	"classname" "prop_dynamic"
	"origin" "3722 3100 32"
	"angles" "0 90 0"
	"model" "models/props_urban/fence_post002.mdl"
	"solid" "6"
	"disableshadows" "1"
}
{
	"classname" "prop_dynamic"
	"origin" "4122 3100 32"
	"angles" "0 90 0"
	"model" "models/props_urban/fence002_128.mdl"
	"solid" "6"
	"disableshadows" "1"
}
{
	"classname" "prop_dynamic"
	"origin" "4122 3100 32"
	"angles" "0 90 0"
	"model" "models/props_urban/fence_post002.mdl"
	"solid" "6"
	"disableshadows" "1"
}
{
	"classname" "prop_dynamic"
	"origin" "4270 3100 32"
	"angles" "0 90 0"
	"model" "models/props_urban/fence002_128.mdl"
	"solid" "6"
	"disableshadows" "1"
}
{
	"classname" "prop_dynamic"
	"origin" "4270 3100 32"
	"angles" "0 90 0"
	"model" "models/props_urban/fence_post002.mdl"
	"solid" "6"
	"disableshadows" "1"
}
{
	"classname" "prop_dynamic"
	"origin" "4418 3100 32"
	"angles" "0 90 0"
	"model" "models/props_urban/fence002_128.mdl"
	"solid" "6"
	"disableshadows" "1"
}
{
	"classname" "prop_dynamic"
	"origin" "4418 3100 32"
	"angles" "0 90 0"
	"model" "models/props_urban/fence_post002.mdl"
	"solid" "6"
	"disableshadows" "1"
}
; --- Van in the parking lot
{
	"classname" "prop_dynamic"
	"origin" "4063 3546 32"
	"angles" "0 0 0"
	"model" "models/props_vehicles/van.mdl"
	"solid" "6"
	"disableshadows" "1"
}
{
	"classname" "prop_dynamic"
	"origin" "4063 3546 32"
	"angles" "0 0 0"
	"model" "models/props_vehicles/van_glass.mdl"
	"solid" "6"
	"disableshadows" "1"
}
; --- Van at the ramp by the apartments to help survivors with tank fights there
{
	"classname" "prop_dynamic"
	"origin" "-1005 890 222"
	"angles" "0.892748 81.5198 -4.17746"
	"model" "models/props_vehicles/van.mdl"
	"solid" "6"
	"disableshadows" "1"
}
{
	"classname" "prop_dynamic"
	"origin" "-1005 890 222"
	"angles" "0.892748 81.5198 -4.17746"
	"model" "models/props_vehicles/van_glass.mdl"
	"solid" "6"
	"disableshadows" "1"
}
; --- Boxes to get on the bus by the ramp
{
	"classname" "prop_dynamic"
	"origin" "-1067 1172 206"
	"angles" "0 324 0"
	"model" "models/props/cs_militia/boxes_garage_lower.mdl"
	"solid" "6"
	"disableshadows" "1"
}
; Harry: 雖然sirplease刪除了但我還是想保留
{
	"classname" "prop_dynamic"
	"origin" "-1043 1186 87"
	"angles" "0.993572 15.8868 -6.50098"
	"model" "models/props_wasteland/rockcliff07b.mdl"
	"solid" "6"
	"disableshadows" "1"
}
; --- Boxes to get on the bus before the park
{
	"classname" "prop_dynamic"
	"origin" "970 714 515"
	"angles" "0 328 0"
	"model" "models/props/cs_militia/boxes_garage_lower.mdl"
	"solid" "6"
	"disableshadows" "1"
}
{
	"classname" "prop_dynamic"
	"origin" "1012 700 511"
	"angles" "0 16 0"
	"model" "models/props_highway/plywood_01.mdl"
	"solid" "6"
	"disableshadows" "1"
}
{
	"classname" "prop_dynamic"
	"origin" "1012 700 512"
	"angles" "0 14 0"
	"model" "models/props_highway/plywood_01.mdl"
	"solid" "6"
	"disableshadows" "1"
}
{
	"classname" "prop_dynamic"
	"origin" "1013 701 513"
	"angles" "0 15 0"
	"model" "models/props_highway/plywood_01.mdl"
	"solid" "6"
	"disableshadows" "1"
}
{
	"classname" "prop_dynamic"
	"origin" "1013 702 514"
	"angles" "0 16 0"
	"model" "models/props_highway/plywood_01.mdl"
	"solid" "6"
	"disableshadows" "1"
}
;{
;	"classname" "env_player_blocker"
;	"origin" "968 712 581"
;	;"angles" "0 28 0"
;	"mins" "-15 -15 -2"
;	"maxs" "15 15 2"
;	;"boxmins" "-15 -15 -2"
;	;"boxmaxs" "15 15 2"
;	"initialstate" "1"
;	"BlockType" "0"
;}
; --- Bus behind tent by the end saferoom
{
	"classname" "prop_dynamic"
	"origin" "-3105 543 703"
	"angles" "0 174.5 0.4"
	"model" "models/props_vehicles/bus01_2.mdl"
	"solid" "6"
	"disableshadows" "1"
}
; --- Block LOS under bus
{
	"classname" "logic_auto"
	"OnMapSpawn" "losfix_bus_end,AddOutput,mins -163 -2 -10,0,-1"
	"OnMapSpawn" "losfix_bus_end,AddOutput,maxs 163 2 10,0,-1"
	"OnMapSpawn" "losfix_bus_end,AddOutput,solid 2,0,-1"
}
{
	"classname" "func_brush"
	"origin" "-3127 542 712"
	"targetname" "losfix_bus_end"
}

; =====================================================
; ==             LADDER / ELEVATOR NERF              ==
; ==   Nerf ladder & elevator attacks for infected   ==
; =====================================================


; ############  MAP SOUND AND GFX CHANGES  ############
; =====================================================
; ==                  SOUND REMOVAL                  ==
; ==    Remove or adjust sounds played by the map    ==
; =====================================================

; =====================================================
; ==             GFX / PARTICLES REMOVAL             ==
; ==        Remove visual effects from the map       ==
; =====================================================
; --- Remove the storm effects from the map, also prevents a glitch where the storm becomes permanently active
modify:
; --- Remove triggers from various storm entities
;{
;	match:
;	{
;		"hammerid" "1027762"
;	}
;	delete:
;	{
;		"On20SecondsToMob" "ldq_stormstartHowAngry0-1"
;	}
;}
;{
;	match:
;	{
;		"targetname" "ldq_stormstart"
;	}
;	delete:
;	{
;		"OutAnger" "case_ldq_stormInValue0-1"
;	}
;}
{
	match:
	{
		"targetname" "relay_ldq_storm"
	}
	delete:
	{
		;"OnTrigger" "relay_storm_startTrigger5-1"
		;"OnTrigger" "fx_skybox_general_lightningStop0-1"
		"OnTrigger" "relay_storm_start,Trigger,,5,-1"
		"OnTrigger" "fx_skybox_general_lightning,Stop,,0,-1"
	}
}
; --- Remove the storm start relay and storm start effects relay
;filter:
;{
;	"targetname" "relay_storm_start"
;}
;{
;	"targetname" "relay_storm_blendin"
;}


; ###############  TRIGGERS AND BRUSHES  ##############
; =====================================================
; ==                   CLIP REMOVAL                  ==
; ==      Remove miscellaneous clips and brushes     ==
; =====================================================
; --- Remove TLS infected clips after loading
add:
;{
;	"classname" "logic_auto"
;	; --- Clips above end saferoom roof
;	"OnMapSpawn" "anv_mapfixes_endsaferoof_wrongway_clip,Kill,,30,-1"
;	"OnMapSpawn" "anv_mapfixes_semiperm_endsaferoof,Kill,,30,-1"
;}
; --- Remove Valve's commentary blockers so we can replace them with our own
;{
;	"classname" "logic_auto"
;	"OnMapSpawn" "env_player_blocker,Kill,,30,-1"
;}
; --- Re-add Valve's blockers copied directly from c6m1_riverbank_commentary.txt, excluding the ones we don't want
; --- Block survivors from jumping onto the awning by the store
{
	"classname" "env_player_blocker"
	"BlockType" "1"
	"initialstate" "1"
	"maxs" "4 128 80"
	"mins" "-8 -8 -8"
	"origin" "3718.9 2633 235.03"
	"mapupdate" "1"
}
; --- Block players from jumping into the non-solid windows by the bridge saferoom and getting outside the map
{
	"classname" "env_player_blocker"
	"BlockType" "0"
	"initialstate" "1"
	"maxs" "4 500 200"
	"mins" "-8 -8 -8"
	"origin" "698.599 3464.44 128"
	"mapupdate" "1"
}
; --- Block infected ghost players from getting under the map by crossing the bridge at the start
{
	"classname" "env_player_blocker"
	"BlockType" "0"
	"initialstate" "1"
	"maxs" "4176 56 1400"
	"mins" "-2230 -10 -80"
	"origin" "944 6632 -40"
	"mapupdate" "1"
}
; --- Block infected from leaving map bounds by going beyond the first area
{
	"classname" "env_player_blocker"
	"BlockType" "0"
	"initialstate" "1"
	"maxs" "4 2966 1074"
	"mins" "-4 -1435 -80"
	"origin" "5453 3722 -8"
	"mapupdate" "1"
}
; --- Block survivors jumping the fence following the just after first interior, allowing them to leave the map bounds.
{
	"classname" "env_player_blocker"
	"BlockType" "1"
	"initialstate" "1"
	"maxs" "4 173 780"
	"mins" "-4 -467 -80"
	"origin" "4629 947 237"
	"mapupdate" "1"
}
; --- Block survivors following the second interior - CHANGED: BlockType was 0, now 1 to block only survivors as intended
{
	"classname" "env_player_blocker"
	"BlockType" "1"
	"initialstate" "1"
	"maxs" "4 8 153"
	"mins" "-4 -126 -8"
	"origin" "436 1528 520"
	"mapupdate" "1"
}
{
	"classname" "env_player_blocker"
	"BlockType" "1"
	"initialstate" "1"
	"maxs" "4 8 153"
	"mins" "-4 -126 -8"
	"origin" "76 768 520"
	"mapupdate" "1"
}
; --- Block an out of map exploit near the wedding party area
{
	"classname" "env_player_blocker"
	"BlockType" "0"
	"initialstate" "1"
	"maxs" "160 8 840"
	"mins" "-160 -8 -80"
	"origin" "1120 -1616 784"
	"mapupdate" "1"
}
; --- Block an infected out-of-map exploit near the safe room - CHANGED: BlockType changed to 1 for survivors, allowing infected on the roof
{
	"classname" "env_player_blocker"
	"BlockType" "1"
	"initialstate" "1"
	"maxs" "8 700 600"
	"mins" "-660 -616 -80"
	"origin" "-3880 2380 1360"
	"mapupdate" "1"
}

; =====================================================
; ==              TRIGGER REMOVAL / FIX              ==
; ==    Fix triggers that interfere with gameplay    ==
; =====================================================


; #############  LADDER CHANGES AND FIXES  ############
; =====================================================
; ==             LADDER ADDITIONS / FIXES            ==
; ==              Add or change ladders              ==
; =====================================================
; --- Adjust ladders leading to apartments so infected don't get stuck/fall off as easily
modify:
{
	match:
	{
		;"hammerid" "356786"
		"model" "*30"
		"hammerid" "2265"
	}
	insert:
	{
		"origin" "-8.00 0.00 12.00"
	}
}
{
	match:
	{
		;"hammerid" "356842"
		"hammerid" "2231"
	}
	insert:
	{
		"origin" "-10.00 0.00 12.00"
	}
}
add:
; --- Infected ladder to climb over the truck by the bar exit
{
	"classname" "func_simpleladder"
	"origin" "6768.93 6434.31 -49"
	"angles" "0 200 0"
	"model" "*134"
	"normal.x" "0.34202"
	"normal.y" "-0.939692"
	"normal.z" "0.00"
	"team" "2"
}
; --- Infected ladders to climb over the wall at the park entrance
{
	"classname" "func_simpleladder"
	"origin" "1467 1426 63"
	"angles" "0 180 0"
	"model" "*29"
	"normal.x" "0.00"
	"normal.y" "-1.00"
	"normal.z" "0.00"
	"team" "2"
}
{
	"classname" "func_simpleladder"
	"origin" "2427 1426 63"
	"angles" "0 180 0"
	"model" "*29"
	"normal.x" "0.00"
	"normal.y" "-1.00"
	"normal.z" "0.00"
	"team" "2"
}
; --- Infected ladder to climb over the fence on the left end of the street by the park exit
{
	"classname" "func_simpleladder"
	"origin" "-7141 -2249 -2"
	"angles" "0 180 0"
	"model" "*52"
	"normal.x" "0.00"
	"normal.y" "1.00"
	"normal.z" "0.00"
	"team" "2"
}


; #######  MISCELLANEOUS / MAP SPECIFIC CHANGES  ######
; =====================================================
; ==           EMPTY APARTMENT ROOMS REWORK          ==
; ==           Rework empty apartment rooms          ==
; =====================================================
; --- Remove TLS clips and props that block access to the rooms
; Harry: Sorry, they add clip and block survivor access to this room in l4d1 compiled c6m1_riverbank.bsp
;add:
;{
;	"classname" "logic_auto"
;	"OnMapSpawn" "anv_mapfixes_cliprework_emptylargerooms,Kill,,15,-1"
;	"OnMapSpawn" "anv_mapfixes_cosmetic_left_collision,Kill,,15,-1"
;	"OnMapSpawn" "anv_mapfixes_cosmetic_left_desk1,Kill,,15,-1"
;	"OnMapSpawn" "anv_mapfixes_cosmetic_left_desk2,Kill,,15,-1"
;	"OnMapSpawn" "anv_mapfixes_cosmetic_left_plywood,Kill,,15,-1"
;}
; --- Block survivor access to the room that requires jumping a gap to reach
{
	"classname" "env_player_blocker"
	"origin" "1416 1608 593"
	"mins" "-32 -11 -45"
	"maxs" "32 11 45"
	"initialstate" "1"
	"BlockType" "1"
}
; --- Props to nerf the open room
{
	"classname" "prop_dynamic"
	"origin" "779 1789 512"
	"angles" "0 214.5 0"
	"model" "models/props_misc/standing_tarp_tall.mdl"
	"solid" "6"
	"disableshadows" "1"
	"rendercolor" "91 165 200"
}
{
	"classname" "prop_dynamic"
	"origin" "1030 2041 512"
	"angles" "0 0 0"
	"model" "models/props/de_prodigy/concretebags.mdl"
	"solid" "6"
	"disableshadows" "1"
}
{
	"classname" "prop_dynamic"
	"origin" "1030 1974 512"
	"angles" "0 0 0"
	"model" "models/props/de_prodigy/concretebags3.mdl"
	"solid" "6"
	"disableshadows" "1"
}
; --- Clipping on bags
{
	"classname" "env_player_blocker"
	"origin" "1016 2050 576"
	"mins" "-8 -19 -5"
	"maxs" "8 19 5"
	"initialstate" "1"
	"BlockType" "0"
}
{
	"classname" "env_player_blocker"
	"origin" "1018 1984 538"
	"mins" "-8 -19 -5"
	"maxs" "8 19 5"
	"initialstate" "1"
	"BlockType" "0"
}

; Harry personal settings
filter:
; --- Remove item spawns in bad locations or excessive density in a location
{
    ; kit
    "hammerid" "4640"
}
{
    ; kit
    "hammerid" "4639"
}
{
    ; kit
    "hammerid" "4641"
}
{
    ; kit
    "hammerid" "4643"
}

{
	;"origin"     "-2614 274 672"
	"classname"   "weapon_pain_pills_spawn"
	"hammerid"    "3026"
}
{
	;"origin"     "3258 2331 96"
	"classname"   "weapon_pain_pills_spawn"
	"hammerid"    "3075"
}

; intro
{
    "targetname" "lcs_intro"
}
{
    "targetname" "fx_intro"
}

add:
; pills
{
	"solid" "6"
	"classname"	"weapon_pain_pills_spawn"
	"origin" "1398.65 -980.18 577.25"
	"angles" "359.47 264.99 0.74"
	"spawnflags"	"2"
	"disableshadows"	"1"
}

{
	"solid" "6"
	"classname"	"weapon_pain_pills_spawn"
	"origin" "604.28 1522.28 553.03"
	"angles" "0.00 83.58 0.00"
	"spawnflags"	"2"
	"disableshadows"	"1"
}

{
	"solid" "6"
	"classname"	"weapon_pain_pills_spawn"
	"origin" "2282.75 1816.90 673.03"
	"angles" "0.00 236.46 0.00"
	"spawnflags"	"2"
	"disableshadows"	"1"
}

{
	"targetname" "l4d2_spawn_props_object_2022_12_03"
	"solid" "6"
	"classname"	"weapon_pain_pills_spawn"
	"origin" "2252.56 1821.34 382.09"
	"angles" "0.00 269.07 0.00"
	"spawnflags"	"2"
	"disableshadows"	"1"
}

; pistol
{
	"solid" "6"
	"classname"	"weapon_pistol_spawn"
	"origin" "2270.00 1948.03 386.75"
	"angles" "0.00 7.64 270.00"
	"spawnflags"	"2"
	"disableshadows"	"1"
	"count"	"1"
}

; weapons
{
	"solid" "6"
	"origin" "1436 -993 577"
	"angles" "0 273 270"
	"classname"	"weapon_pumpshotgun_spawn"
	"disableshadows" "1"
	"spawnflags" "2"
	"count" "1"
}

{
	"solid" "6"
	"origin" "1416 -955 577"
	"angles" "0 306 270"
	"classname"	"weapon_smg_spawn"
	"disableshadows" "1"
	"spawnflags" "2"
	"count" "1"
}

{
	"solid" "6"
	"classname"	"weapon_pumpshotgun_spawn"
	"origin" "3580.28 2572.81 97.03"
	"angles" "0.00 268.50 270.00"
	"spawnflags"	"2"
	"disableshadows"	"1"
	"count"	"5"
}

{
	"solid" "6"
	"classname"	"weapon_smg_spawn"
	"origin" "3247.12 2315.81 97.03"
	"angles" "0.00 154.16 270.00"
	"spawnflags"	"2"
	"disableshadows"	"1"
	"count"	"5"
}

; objects
{
	"solid" "6"
	"origin" "2209.05 3149.00 255.03"
	"angles" "0.00 -94.36 0.00"
	"model"	 "models/props_street/phonepole1_tall.mdl"
	"classname"	"prop_dynamic"
}

{
	"origin" "4694.47 -1103.93 3060.57"
	"spawnflags" "1"
	"classname" "logic_auto"
	"hammerid" "1027744"
	"OnMultiNewMap" "rain,Alpha,100,0,-1"
	"OnMultiNewRound" "rain,Alpha,100,0.1,-1"
}

; solid objects
{
	"solid" "6"
	"model" "models/props_rooftop/acvent04.mdl"
	"origin" "1927.66 1646 1046.8"
	"angles" "0 90 0"
	"classname"	"prop_dynamic"
	"rendermode" "5"
	"renderamt" "0"
}

{
	"solid" "6"
	"model" "models/props_rooftop/acvent04.mdl"
	"origin" "2207.66 1646 1046.8"
	"angles" "0 90 0"
	"classname"	"prop_dynamic"
	"rendermode" "5"
	"renderamt" "0"
}

{
	"solid" "6"
	"model" "models/props_rooftop/acvent04.mdl"
	"origin" "2856 1606 959.506"
	"angles" "0 90 0"
	"classname"	"prop_dynamic"
	"rendermode" "5"
	"renderamt" "0"
}

{
	"solid" "6"
	"model" "models/props_rooftop/acvent04.mdl"
	"origin" "2864 2512 945.22"
	"angles" "-3 90 0"
	"classname"	"prop_dynamic"
	"rendermode" "5"
	"renderamt" "0"
}

{
	"solid" "6"
	"model" "models/props_rooftop/acvent04.mdl"
	"origin" "4808.76 2586.21 702.506"
	"angles" "0 90 0"
	"classname"	"prop_dynamic"
	"rendermode" "5"
	"renderamt" "0"
}

{
	"classname" "env_player_blocker"
	"origin" "908 1660 956"
	"mins" "-24.1 -24.1 -60.1"
	"maxs" "24.1 24.1 60.1"
	"initialstate" "1"
	"BlockType" "2"
}
{
	"classname" "func_brush"
	"origin" "908 1660 956"
	"targetname" "solidify_chimney"
}

{
	"classname" "env_player_blocker"
	"origin" "804 2592 988"
	"mins" "-24.1 -24.1 -60.1"
	"maxs" "24.1 24.1 60.1"
	"initialstate" "1"
	"BlockType" "2"
}
{
	"classname" "func_brush"
	"origin" "804 2592 988"
	"targetname" "solidify_chimney"
}

{
	"classname" "env_player_blocker"
	"origin" "1092 2592 988"
	"mins" "-24.1 -24.1 -60.1"
	"maxs" "24.1 24.1 60.1"
	"initialstate" "1"
	"BlockType" "2"
}
{
	"classname" "func_brush"
	"origin" "1092 2592 988"
	"targetname" "solidify_chimney"
}

{
	"classname" "env_player_blocker"
	"origin" "1728 2592 1121.53"
	"mins" "-24.1 -24.1 -120.1"
	"maxs" "24.1 24.1 60.1"
	"initialstate" "1"
	"BlockType" "2"
}
{
	"classname" "func_brush"
	"origin" "1728 2592 1121.53"
	"targetname" "solidify_chimney"
}

{
	"classname" "env_player_blocker"
	"origin" "2256 2592 1121.53"
	"mins" "-24.1 -24.1 -120.1"
	"maxs" "24.1 24.1 60.1"
	"initialstate" "1"
	"BlockType" "2"
}
{
	"classname" "func_brush"
	"origin" "2256 2592 1121.53"
	"targetname" "solidify_chimney"
}

; auto
{
	"classname" "logic_auto"
	"OnMapSpawn" "solidify_chimney,AddOutput,mins -24 -24 -60,0,-1"
	"OnMapSpawn" "solidify_chimney,AddOutput,maxs 24 24 60,0,-1"
	"OnMapSpawn" "solidify_chimney,AddOutput,solid 2,0,-1"
}

; ladder
{
    "classname" "func_simpleladder"
    "origin" "-1346.10 1556.20 395.03"
    "angles" "0.00 0.00 0.00"
    "model" "*11"        
    "normal.x" "0.00"
    "normal.y" "1.00"
    "normal.z" "0.00"
    "team" "2"
}

{
    "classname" "func_simpleladder"
    "origin" "2048.29 5738.15 404.03"
    "angles" "0.00 270.00 0.00"
    "model" "*11"        
    "normal.x" "1.00"
    "normal.y" "0.00"
    "normal.z" "0.00"
    "team" "2"
}

{
    "classname" "func_simpleladder"
    "origin" "2210.03 44.88 361.49"
    "angles" "0.00 90.00 0.00"
    "model" "*13"        
    "normal.x" "1.00"
    "normal.y" "0.00"
    "normal.z" "0.00"
    "team" "2"
}

{
    "classname" "func_simpleladder"
    "origin" "3471.96 -2446.46 406.22"
    "angles" "0.00 90.00 0.00"
    "model" "*11"        
    "normal.x" "-1.00"
    "normal.y" "-0.00"
    "normal.z" "0.00"
    "team" "2"
}

{
    "classname" "func_simpleladder"
    "origin" "2397.96 122.28 476.92"
    "angles" "0.00 90.00 0.00"
    "model" "*28"        
    "normal.x" "-1.00"
    "normal.y" "-0.00"
    "normal.z" "0.00"
    "team" "2"
}

{
    "classname" "func_simpleladder"
    "origin" "1571.37 3407.00 479.03"
    "angles" "0.00 270.00 0.00"
    "model" "*28"        
    "normal.x" "1.00"
    "normal.y" "0.00"
    "normal.z" "0.00"
    "team" "2"
}

modify:
; alarm cars spawn
{
	match:
	{
		"targetname" "case_car_alarms_vs"
	}
	delete:
	{
		"OnRandom01" "c_1-r_c_o,ForceSpawn,,0,-1"
		"OnRandom02" "c_2-r_c_o,ForceSpawn,,0,-1"
		"OnRandom06" "c_6-r_c_o,ForceSpawn,,0,-1"
		"OnRandom04" "c_4-r_c_o,ForceSpawn,,0,-1"
		"OnRandom05" "IA24-r_c_o,ForceSpawn,,0,-1"
		"OnRandom08" "c_8-r_c_o,ForceSpawn,,0,-1"
		"OnRandom07" "c_7-r_c_o,ForceSpawn,,0,-1"
		"OnRandom09" "IA2-r_c_o,ForceSpawn,,0,-1"
		"OnRandom03" "c_3-r_c_o,ForceSpawn,,0,-1"
		"OnRandom10" "IA44-r_c_o,ForceSpawn,,0,-1"
	}
	insert:
	{
		"OnRandom01" "c_1-r_c_o,ForceSpawn,,0,-1"
		"OnRandom01" "IA44-r_c_o,ForceSpawn,,0,-1"
	}
}

; weapons spawn
{
	match:
	{
		"targetname" "case_weapons_spawn_vs"
	}
	delete:
	{
		"OnRandom01" "tmp_case1,ForceSpawn,,0,-1"
		"OnRandom02" "tmp_case2,ForceSpawn,,0,-1"
		"OnRandom03" "tmp_case3,ForceSpawn,,0,-1"
	}
	insert:
	{
		"OnRandom01" "tmp_case1,ForceSpawn,,0,-1"
		"OnRandom01" "tmp_case2,ForceSpawn,,0,-1"
	}
}

; fog
{
	match:
	{
		"classname" "env_fog_controller"
		"hammerid" "3822"
		;"fogend" "2500"
		;"farz" "2500"
	}
	replace:
	{
		"farz" "3500"
	}
}
{
	match:
	{
		"classname" "env_fog_controller"
		"hammerid" "3823"
		;"fogend" "2500"
		;"farz" "2500"
	}
	replace:
	{
		"farz" "3500"
	}
}
{
	match:
	{
		"classname" "env_fog_controller"
		"hammerid" "3823"
		;"fogend" "1500"
		;"farz" "2000"
	}
	replace:
	{
		"farz" "3500"
	}
}

; storm
{
	match:
	{
		"targetname" "relay_storm_blendin"
	}
	delete:
	{
		"OnTrigger" "fog_storm,SetFarZ,1500,15,-1"
	}
	insert:
	{
		"OnTrigger" "fog_storm,SetFarZ,3500,15,-1"
	}
}
{
	match:
	{
		"targetname" "relay_storm_blendout"
	}
	delete:
	{
		"OnTrigger" "fog_storm,SetFarZ,2500,0,-1"
	}
	insert:
	{
		"OnTrigger" "fog_storm,SetFarZ,3500,0,-1"
	}
}

; --- modify environmental sounds
{
	match:
	{
		; too loud
		"soundscape" "c6m1_spawn_river"
	}
	replace:
	{
		"soundscape" "c6m1_building_interior"
	}
}
{
	match:
	{
		; too loud
		"soundscape" "c6m1_outdoor_01"
	}
	replace:
	{
		"soundscape" "c6m1_building_interior"
	}
}

; spawn our own witch
filter:
{
	"targetname" "bridewitch"
}

modify:
{
	match:
	{
		;"targetname" "r_s_bw"
		"hammerid" "161481"
	}
	delete:
	{
		"OnTrigger" "bridewitch,SpawnZombie,Witch,0,-1"
	}
	insert:
	{
		"OnTrigger" "witch_bride,SpawnZombie,,0,-1"
	}
}

add:
{
    "origin" "-1341.28 -371.423 657"
    "targetname" "witch_bride"
    "population" "witch_bride"
    "AttackOnSpawn" "0"
   	"angles" "0 0 0"
    "classname" "info_zombie_spawn"
    "OnSpawnWitch" "witch_bride,Kill,,0,-1"
}

; from 9th survivor
// Delete Mricrophone Action
;filter:
;{
;	"classname" "env_microphone"
;}

; Delete Intro Survivors, Fix Invisible Survivors and No Delete Pistols
filter:
{
	"model" "models/survivors/sv_manager_intro.mdl"
}
{
	"model" "models/survivors/sv_teenangst_intro.mdl"
}
{
	"model" "models/survivors/sv_namvet_intro.mdl"
}
{
	"model" "models/survivors/sv_biker_intro.mdl"
}
{
	"classname" "game_player_equip"
}
{
	"targetname" "i_i_m_e"
}
modify:
{
	match:
	{
		"targetname" "rl_invis_wp_e"
	}
	delete:
	{
		"OnTrigger" "weapon_pistol,Kill,,0,-1"
	}
}