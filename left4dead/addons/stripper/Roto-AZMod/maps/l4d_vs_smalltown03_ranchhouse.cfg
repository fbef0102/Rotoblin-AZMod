; Harry Modify 2017
; =====================================================
; ===============  PILL CABINET TWEAK  ================
; =====================================================
; --- set pill cabs to have a max of 1 pill
modify:
{
	match:
	{
		"model" "models/props_interiors/medicalcabinet02.mdl"
	}
	replace:
	{
		"HealthCount" "1"
	}
}

; =====================================================
; ================  EXPLOITS BLOCKED  =================
; =====================================================

add:
{
    ; invisible block over small awning
    "origin" "-10337 -6310 490"
    "mins" "0 -15 0"
    "maxs" "68 0 230"
    "initialstate" "1"
    "BlockType" "1"
    "classname" "env_player_blocker"
}
; --- block climbing rocks to get on housetops and off map
{
    ; invisible block above climbable rocks
    "origin" "-6272 -2688 848"
    "mins" "-512 -160 -592"
    "maxs" "512 160 592"
    "initialstate" "1"
    "BlockType" "1"
    "classname" "env_player_blocker"
}
{
    ; invisible block along edge of hillside
    "origin" "-7440 -2784 768"
    "mins" "-304 -32 -672"
    "maxs" "304 32 672"
    "initialstate" "1"
    "BlockType" "1"
    "classname" "env_player_blocker"
}

; =====================================================
add:
; --- comment #23
{
	"origin" "-12207 -5820 -10"
	"mins" "0 0 0"
	"maxs" "18 22 500"
	"initialstate" "1"
	"BlockType" "1"
	"classname" "env_player_blocker"
}

; Harry Modify 2019
add:
; don't hide in ambulance
{
    "solid" "6"
	"disableshadows" "1"
    "origin" "-5937.74 -1055.08 -10.07"
    "angles" "0 150 0"
    "model" "models/props/cs_militia/boxes_frontroom.mdl"
    "classname" "prop_dynamic"
}
{
    "solid" "6"
	"disableshadows" "1"
    "origin" "-5899.48 -1000.10 -14"
    "angles" "0 150 0"
    "model" "models/props/cs_militia/boxes_garage_lower.mdl"
    "classname" "prop_dynamic"
}

; Harry Modify 2021
;Add Ladder (copy l4d2 the last stand)
add:
; --- Infected ladder
{
    "classname" "func_simpleladder"
    "origin" "-3332.65 -1343.93 -117.61"
    "angles" "0.00 0.00 0.00"
    "model" "*262"        
    "normal.x" "0.00"
    "normal.y" "1.00"
    "normal.z" "0.00"
    "team" "2"
}

{
    "classname" "func_simpleladder"
    "origin" "-2862.52 -1343.71 -118.99"
    "angles" "0.00 0.00 0.00"
    "model" "*262"        
    "normal.x" "0.00"
    "normal.y" "1.00"
    "normal.z" "0.00"
    "team" "2"
}

{
    "classname" "func_simpleladder"
    "origin" "4.43 -630.63 -6.50"
    "angles" "0.00 0.00 0.00"
    "model" "*76"        
    "normal.x" "1.00"
    "normal.y" "0.00"
    "normal.z" "0.00"
    "team" "2"
}

{
    "classname" "func_simpleladder"
    "origin" "-921.23 -2149.78 -20.00"
    "angles" "0.00 0.00 0.00"
    "model" "*272"        
    "normal.x" "0.00"
    "normal.y" "1.00"
    "normal.z" "0.00"
    "team" "2"
}

{
    "classname" "func_simpleladder"
    "origin" "-2.68 620.88 -4.50"
    "angles" "0.00 0.00 0.00"
    "model" "*270"        
    "normal.x" "-1.00"
    "normal.y" "0.00"
    "normal.z" "0.00"
    "team" "2"
}

{
    "classname" "func_simpleladder"
    "origin" "0.18 1326.45 -2.96"
    "angles" "0.00 0.00 0.00"
    "model" "*270"        
    "normal.x" "-1.00"
    "normal.y" "0.00"
    "normal.z" "0.00"
    "team" "2"
}

{
    "classname" "func_simpleladder"
    "origin" "-9338.60 7723.45 0.93"
    "angles" "0.00 70.00 0.00"
    "model" "*303"        
    "normal.x" "0.10"
    "normal.y" "0.99"
    "normal.z" "0.00"
    "team" "2"
}

{
    "classname" "func_simpleladder"
    "origin" "-6720.29 6176.60 -2629.46"
    "angles" "0.00 40.00 -32.00"
    "model" "*250"        
    "normal.x" "0.54"
    "normal.y" "-0.64"
    "normal.z" "0.52"
    "team" "2"
}

{
    "classname" "func_simpleladder"
    "origin" "-321.66 2302.73 118.07"
    "angles" "0.00 30.00 0.00"
    "model" "*292"        
    "normal.x" "0.50"
    "normal.y" "-0.86"
    "normal.z" "0.00"
    "team" "2"
}

{
    "classname" "func_simpleladder"
    "origin" "-379.82 505.53 4.13"
    "angles" "0.00 0.00 0.00"
    "model" "*89"        
    "normal.x" "0.00"
    "normal.y" "1.00"
    "normal.z" "0.00"
    "team" "2"
}

{
    "classname" "func_simpleladder"
    "origin" "-165.38 727.41 -64.00"
    "angles" "0.00 0.00 0.00"
    "model" "*183"        
    "normal.x" "0.00"
    "normal.y" "-1.00"
    "normal.z" "0.00"
    "team" "2"
}

{
    "classname" "func_simpleladder"
    "origin" "-199.34 725.46 -62.91"
    "angles" "0.00 0.00 0.00"
    "model" "*183"        
    "normal.x" "0.00"
    "normal.y" "-1.00"
    "normal.z" "0.00"
    "team" "2"
}

{
    "classname" "func_simpleladder"
    "origin" "-235.19 723.96 -65.00"
    "angles" "0.00 0.00 0.00"
    "model" "*183"        
    "normal.x" "0.00"
    "normal.y" "-1.00"
    "normal.z" "0.00"
    "team" "2"
}

;Add Ladder (credit: Derpduck L4D2-Comp-Stripper-Rework)
add:
; --- Infected ladder to climb on the silos in the trainyard
{
    "classname" "func_simpleladder"
    "origin" "1849.81 847.20 11.92"
    "angles" "0.00 0.00 0.00"
    "model" "*84"        
    "normal.x" "0.00"
    "normal.y" "-1.00"
    "normal.z" "0.00"
    "team" "2"
}
; --- Infected ladder to climb on the graffiti building on the edge of the train yard
{
    "classname" "func_simpleladder"
    "origin" "1160.12 287.43 692.03"
    "angles" "0.00 0.00 0.00"
    "model" "*231"        
    "normal.x" "0.00"
    "normal.y" "1.00"
    "normal.z" "0.00"
    "team" "2"
}
; --- Infected ladder to climb up the side of the walkway in the trainyard
{
    "classname" "func_simpleladder"
    "origin" "448.85 49.21 -5.45"
    "angles" "0.00 0.00 0.00"
    "model" "*76"        
    "normal.x" "1.00"
    "normal.y" "0.00"
    "normal.z" "0.00"
    "team" "2"
}
{
	"classname" "prop_dynamic"
	"origin" "-12363 -6637 60"
	"angles" "0 90 0"
	"model" "models/props_rooftop/gutter_pipe_128.mdl"
	"solid" "0"
	"disableshadows" "1"
}
; --- Additional infected ladders to climb over the wall in the graveyard, between 2 other ladders
{
    "classname" "func_simpleladder"
    "origin" "-319.13 -0.45 -36.11"
    "angles" "0.00 0.00 0.00"
    "model" "*293"        
    "normal.x" "0.00"
    "normal.y" "1.00"
    "normal.z" "0.00"
    "team" "2"
}

{
    "classname" "func_simpleladder"
    "origin" "-319.00 1.00 -35.00"
    "angles" "0.00 0.00 0.00"
    "model" "*292"        
    "normal.x" "0.00"
    "normal.y" "-1.00"
    "normal.z" "0.00"
    "team" "2"
}

; --- Fix a hard to use ladder on the crashed bus
modify:
{
	match:
	{
		"hammerid" "3675038"
	}
	insert:
	{
		"origin" "5 5 0"
	}
}

add:
; copy l4d2 the last stand
; anv_versus
; prop
{
	; _losblocker_rock
	"solid" "6"
	"origin" "-5921 -453 19"
	"angles" "2 277 -120"
	"model"	 "models/props/cs_militia/militiarock03.mdl"
	"classname"	"prop_dynamic"
	"disableshadows" "1"
}
{
	; _solidify_tree01
	"solid" "6"
	"origin" "-6608 -712 -84"
	"angles" "-3.50638 167.38 -6.41996"
	"model"	 "models/props_foliage/trees_cluster01.mdl"
	"classname"	"prop_dynamic"
	"disableshadows" "1"
}
{
	; _solidify_tree02
	"solid" "6"
	"origin" "-6240 -704 -36"
	"angles" "0.0 332.0 0.0"
	"model"	 "models/props_foliage/trees_cluster01.mdl"
	"classname"	"prop_dynamic"
	"disableshadows" "1"
}
{
	; _solidify_tree03
	"solid" "6"
	"origin" "-6064 -584 -84"
	"angles" "-1.16862 16.961 3.82575"
	"model"	 "models/props_foliage/trees_cluster01.mdl"
	"classname"	"prop_dynamic"
	"disableshadows" "1"
}
{
	; _solidify_tree04
	"solid" "6"
	"origin" "-6000 -272 -84"
	"angles" "-1.16862 331.961 3.82575"
	"model"	 "models/props_foliage/trees_cluster01.mdl"
	"classname"	"prop_dynamic"
	"disableshadows" "1"
}
{
	; _solidify_tree05
	"solid" "6"
	"origin" "-5622 -298 -84"
	"angles" "-1.16862 106.961 3.82575"
	"model"	 "models/props_foliage/trees_cluster01.mdl"
	"classname"	"prop_dynamic"
	"disableshadows" "1"
}
{
	; _solidify_tree06
	"solid" "6"
	"origin" "-9678.08 -1120 11.46"
	"angles" "-15.8186 151.677 -1.38363"
	"model"	 "models/props_foliage/trees_cluster01.mdl"
	"classname"	"prop_dynamic"
	"disableshadows" "1"
}
{
	; _solidify_tree07
	"solid" "6"
	"origin" "-8914.98 -852.481 -26.4875"
	"angles" "0 317 0"
	"model"	 "models/props_foliage/trees_cluster01.mdl"
	"classname"	"prop_dynamic"
	"disableshadows" "1"
}
{
	; _solidify_tree08
	"solid" "6"
	"origin" "-8568 -984 -52"
	"angles" "1.17358 181.777 -6.60183"
	"model"	 "models/props_foliage/trees_cluster01.mdl"
	"classname"	"prop_dynamic"
	"disableshadows" "1"
}
{
	; _solidify_tree09
	"solid" "6"
	"origin" "-7168 -880 -91.8731"
	"angles" "-6.18811 26.8478 12.0217"
	"model"	 "models/props_foliage/trees_cluster01.mdl"
	"classname"	"prop_dynamic"
	"disableshadows" "1"
}
{
	; _solidify_tree10
	"solid" "6"
	"origin" "-9664 -1400 -36.5395"
	"angles" "-15.8186 151.677 -1.38363"
	"model"	 "models/props_foliage/trees_cluster01.mdl"
	"classname"	"prop_dynamic"
	"disableshadows" "1"
}



; Harry add
; cover ladder
{
	"solid" "6"
	"origin" "-10827 -3251 97"
	"angles" "-18 208 61"
	"model"	 "models/props_wasteland/rock_moss01.mdl"
	"classname"	"prop_dynamic"
}
; prevent a perma-stuck place behind fence near saferoom
{
    "classname" "func_simpleladder"
    "origin" "-1803.59 -2923.18 -73.01"
    "angles" "0.00 0.00 0.00"
    "model" "*297"        
    "normal.x" "1.00"
    "normal.y" "0.00"
    "normal.z" "0.00"
    "team" "2"
}

;from github.com/Derpduck/L4D2-Comp-Stripper-Rework/blob/master/cfg/stripper/maps/c10m3_ranchhouse.cfg
; ############  DIRECTOR AND EVENT CHANGES  ###########
; =====================================================
; ==          DIRECTOR & EVENT MODIFICATION          ==
; ==       Modify director behaviour and events      ==
; =====================================================


; ################  ITEM SPAWN CHANGES  ###############
; =====================================================
; ==           PILL / ITEM / WEAPON SPAWNS           ==
; ==   Remove or change pill, item & weapon spawns   ==
; =====================================================
; --- Ensure weapons always spawn there in the pill cabinet hut
add:
{
	"classname" "logic_auto"
	"OnMapSpawn" "weapons _spawn4_template,ForceSpawn,,0,-1"
}

; =====================================================
; ==                STATIC AMMO PILES                ==
; ==          Add or modify ammo pile spawns         ==
; =====================================================
add:
; --- Ammo pile in the trainyard office
{
	"classname" "weapon_ammo_spawn"
	"origin" "-12686 -5797 84"
	"angles" "0 0 0"
	"model" "models/props/terror/ammo_stack.mdl"
	"solid" "6"
	"disableshadows" "1"
	"spawnflags" "2"
	"count" "5"
}

; =====================================================
; ==                 HITTABLE CHANGES                ==
; ==           Add/remove/modify hittables           ==
; =====================================================
; --- Make 1 of the cars by the graveyard unhittable
filter:
{
	"targetname" "car03"
}
{
	"parentname" "car03"
}
add:
{
	"classname" "prop_dynamic"
	"origin" "-5136 -1009 -78"
	"angles" "2 0 1"
	"model" "models/props_vehicles/cara_69sedan.mdl"
	"solid" "6"
	"disableshadows" "1"
}
{
	"classname" "prop_dynamic"
	"origin" "-5136 -1009 -78"
	"angles" "2 0 1"
	"model" "models/props_vehicles/cara_69sedan_glass.mdl"
	"solid" "6"
	"disableshadows" "1"
}
; --- Block LOS under car
{
	"classname" "logic_auto"
	"OnMapSpawn" "los_graveyard_car,AddOutput,mins -111 -1 -16,0,-1"
	"OnMapSpawn" "los_graveyard_car,AddOutput,maxs 111 1 16,0,-1"
	"OnMapSpawn" "los_graveyard_car,AddOutput,solid 2,0,-1"
}
{
	"classname" "func_brush"
	"origin" "-5137 -1007 -68"
	"targetname" "los_graveyard_car"
}


; #############  MAP CLIPPING AND ISSUES  #############
; =====================================================
; ==                 EXPLOITS BLOCKED                ==
; ==      Block intentionally performed exploits     ==
; =====================================================
add:
; --- Block survivors from ledge hanging on an awning on the trainyard tower
{
	"classname" "env_player_blocker"
	"origin" "-10304 -6343 744"
	"mins" "-31.2 -30 -248"
	"maxs" "31.2 30 248"
	"initialstate" "1"
	"BlockType" "1"
}
; --- Block high tickrate jumps to get onto the walkway from below
{
	"classname" "env_player_blocker"
	"origin" "-12347 -5997 78"
	"mins" "-1 -5.1 -6"
	"maxs" "1 5.1 6"
	"initialstate" "1"
	"BlockType" "1"
}
{
	"classname" "env_player_blocker"
	"origin" "-12347 -5869 78"
	"mins" "-1 -5.1 -6"
	"maxs" "1 5.1 6"
	"initialstate" "1"
	"BlockType" "1"
}
{
	"classname" "env_player_blocker"
	"origin" "-12347 -5741 78"
	"mins" "-1 -5.1 -6"
	"maxs" "1 5.1 6"
	"initialstate" "1"
	"BlockType" "1"
}
{
	"classname" "env_player_blocker"
	"origin" "-12350 -6189 87"
	"mins" "-2 -65 -3"
	"maxs" "2 65 3"
	"initialstate" "1"
	"BlockType" "1"
}
; --- Block standing on the balcony in the church
{
	"classname" "env_player_blocker"
	"origin" "-2524 242 412"
	"mins" "-116 -2 -84"
	"maxs" "116 2 84"
	"initialstate" "1"
	"BlockType" "1"
}

; =====================================================
; ==                  OUT OF BOUNDS                  ==
; ==  Block players getting outside / under the map  ==
; =====================================================
add:
; --- Block infected from going out of bounds by the trainyard
{
	"classname" "env_player_blocker"
	"origin" "-5882 -7222 288"
	"mins" "-142 -58 -352"
	"maxs" "142 58 352"
	"initialstate" "1"
	"BlockType" "0"
}
{
	"classname" "env_player_blocker"
	"origin" "-10536 -9489 383"
	"mins" "-2136 -159 -191"
	"maxs" "2136 159 191"
	"initialstate" "1"
	"BlockType" "0"
}
{
	"classname" "env_player_blocker"
	"origin" "-12830 -9648 -78"
	"mins" "-30 -80 -18"
	"maxs" "30 80 18"
	"initialstate" "1"
	"BlockType" "0"
}
; --- Block survivors from going out of bounds by jumping on the building at the end of the trainyard
{
	"classname" "env_player_blocker"
	"origin" "-11776 -7954 618"
	"mins" "-520 -622 -420"
	"maxs" "520 622 420"
	"initialstate" "1"
	"BlockType" "1"
}
{
	"classname" "env_player_blocker"
	"origin" "-12543 -7478 551"
	"mins" "-255 -12.5 -488"
	"maxs" "255 12.5 488"
	"initialstate" "1"
	"BlockType" "1"
}
; --- Block infected from going out of bounds by the church
{
	"classname" "env_player_blocker"
	"origin" "-5725 1840 66"
	"mins" "-35 -80 -134"
	"maxs" "35 80 134"
	"initialstate" "1"
	"BlockType" "0"
}
{
	"classname" "env_player_blocker"
	"origin" "-2230 1790 96"
	"mins" "-10 -130 -152"
	"maxs" "10 130 152"
	"initialstate" "1"
	"BlockType" "0"
}
{
	"classname" "env_player_blocker"
	"origin" "-2230 1566 80"
	"mins" "-10 -94 -136"
	"maxs" "10 94 136"
	"initialstate" "1"
	"BlockType" "0"
}
{
	"classname" "env_player_blocker"
	"origin" "-2230 1288 57"
	"mins" "-10 -184 -113"
	"maxs" "10 184 113"
	"initialstate" "1"
	"BlockType" "0"
}

; =====================================================
; ==                   STUCK SPOTS                   ==
; ==  Prevent players from getting stuck in the map  ==
; =====================================================
add:
; --- Prevent a perma-stuck spot on the barricade by the graveyard
{
	"classname" "env_player_blocker"
	"origin" "-4602 -1024 -51"
	"mins" "-12 -192 -21"
	"maxs" "12 192 21"
	"initialstate" "1"
	"BlockType" "2"
}

; =====================================================
; ==                 NUISANCE CHANGES                ==
; ==      Clipping improvements, QOL map changes     ==
; =====================================================
; --- Fix a window in the tower glowing like a hittable and being unbreakable
modify:
{
	match:
	{
		"hammerid" "1735329"
	}
	replace:
	{
		"BreakableType" "0"
		
		"minhealthdmg" "0"
	}
	delete:
	{
		"damagefilter" "filter_tank"
	}
}
; --- Fix the tower in the trainyard not blocking LOS
add:
{
	"classname" "func_brush"
	"origin" "-10380 -6384 80"
	"targetname" "los_trainyardtower_support_a"
}
{
	"classname" "func_brush"
	"origin" "-10140 -6384 80"
	"targetname" "los_trainyardtower_support_b"
}
{
	"classname" "func_brush"
	"origin" "-10380 -6624 80"
	"targetname" "los_trainyardtower_support_c"
}
{
	"classname" "func_brush"
	"origin" "-10140 -6624 80"
	"targetname" "los_trainyardtower_support_d"
}
{
	"classname" "func_brush"
	"origin" "-10356 -6312 95"
	"targetname" "los_trainyardtower_platform_a"
}
{
	"classname" "func_brush"
	"origin" "-10164 -6312 231"
	"targetname" "los_trainyardtower_platform_a"
}
{
	"classname" "func_brush"
	"origin" "-10100 -6360 231"
	"targetname" "los_trainyardtower_platform_c"
}
{
	"classname" "func_brush"
	"origin" "-10356 -6312 367"
	"targetname" "los_trainyardtower_platform_d"
}
{
	"classname" "func_brush"
	"origin" "-10292 -6344 367"
	"targetname" "los_trainyardtower_platform_e"
}
{
	"classname" "logic_auto"
	"OnMapSpawn" "los_trainyardtower_support_a,AddOutput,mins -8 -8 -144,0,-1"
	"OnMapSpawn" "los_trainyardtower_support_a,AddOutput,maxs 8 8 144,0,-1"
	"OnMapSpawn" "los_trainyardtower_support_a,AddOutput,solid 2,0,-1"
	"OnMapSpawn" "los_trainyardtower_support_b,AddOutput,mins -8 -8 -144,0,-1"
	"OnMapSpawn" "los_trainyardtower_support_b,AddOutput,maxs 8 8 144,0,-1"
	"OnMapSpawn" "los_trainyardtower_support_b,AddOutput,solid 2,0,-1"
	"OnMapSpawn" "los_trainyardtower_support_c,AddOutput,mins -8 -8 -144,0,-1"
	"OnMapSpawn" "los_trainyardtower_support_c,AddOutput,maxs 8 8 144,0,-1"
	"OnMapSpawn" "los_trainyardtower_support_c,AddOutput,solid 2,0,-1"
	"OnMapSpawn" "los_trainyardtower_support_d,AddOutput,mins -8 -8 -144,0,-1"
	"OnMapSpawn" "los_trainyardtower_support_d,AddOutput,maxs 8 8 144,0,-1"
	"OnMapSpawn" "los_trainyardtower_support_d,AddOutput,solid 2,0,-1"
	"OnMapSpawn" "los_trainyardtower_platform_a,AddOutput,mins -32 -64 -0.05,0,-1"
	"OnMapSpawn" "los_trainyardtower_platform_a,AddOutput,maxs 32 64 0.05,0,-1"
	"OnMapSpawn" "los_trainyardtower_platform_a,AddOutput,solid 2,0,-1"
	"OnMapSpawn" "los_trainyardtower_platform_b,AddOutput,mins -32 -64 -0.05,0,-1"
	"OnMapSpawn" "los_trainyardtower_platform_b,AddOutput,maxs 32 64 0.05,0,-1"
	"OnMapSpawn" "los_trainyardtower_platform_b,AddOutput,solid 2,0,-1"
	"OnMapSpawn" "los_trainyardtower_platform_c,AddOutput,mins -32 -112 -0.05,0,-1"
	"OnMapSpawn" "los_trainyardtower_platform_c,AddOutput,maxs 32 112 0.05,0,-1"
	"OnMapSpawn" "los_trainyardtower_platform_c,AddOutput,solid 2,0,-1"
	"OnMapSpawn" "los_trainyardtower_platform_d,AddOutput,mins -32 -64 -0.05,0,-1"
	"OnMapSpawn" "los_trainyardtower_platform_d,AddOutput,maxs 32 64 0.05,0,-1"
	"OnMapSpawn" "los_trainyardtower_platform_d,AddOutput,solid 2,0,-1"
	"OnMapSpawn" "los_trainyardtower_platform_e,AddOutput,mins -32 -32 -0.05,0,-1"
	"OnMapSpawn" "los_trainyardtower_platform_e,AddOutput,maxs 32 32 0.05,0,-1"
	"OnMapSpawn" "los_trainyardtower_platform_e,AddOutput,solid 2,0,-1"
}
; --- Remove some breakable boards at the start of the walkway to open up a small reset
filter:
{
	"hammerid" "1515813"
}
{
	"hammerid" "1515818"
}
; --- delete the breakable window in the shed by the church
filter:
{
	"hammerid" "3410750"
}
; --- Make the gravestones only breakable by tanks
; Harry: I say No
;modify:
;{
;	match:
;	{
;		"damagefilter" "filter_no_burn"
;	}
;	replace:
;	{
;		"damagefilter" "filter_tank"
;	}
;}
; --- Block LOS in church window behind the map
add:
{
	"classname" "func_brush"
	"origin" "-2944 327 235"
	"targetname" "los_church_map"
}
{
	"classname" "logic_auto"
	"OnMapSpawn" "los_church_map,AddOutput,mins -18 -0.05 -35,0,-1"
	"OnMapSpawn" "los_church_map,AddOutput,maxs 18 0.05 35,0,-1"
	"OnMapSpawn" "los_church_map,AddOutput,solid 2,0,-1"
}
; --- Remove filing cabinets in the saferoom that prevent the door from opening inwards
filter:
{
	"model" "models/props/cs_office/file_cabinet2.mdl"
}


; ###########  ADDITIONAL PROPS AND SPAWNS  ###########
; =====================================================
; ==                      PROPS                      ==
; ==       New props for balance and SI spawns       ==
; =====================================================
add:
; --- Bus after the trainyard
{
	"classname" "prop_dynamic"
	"origin" "-11356 -4460 -57"
	"angles" "0 0 0"
	"model" "models/props_vehicles/bus01.mdl"
	"solid" "6"
	"disableshadows" "1"
	"lightingorigin" "lightingfix_bus"
}
{
	"classname" "info_target"
	"origin" "-10982 -4443 13"
	"targetname" "lightingfix_bus"
}
; --- Block LOS under bus
{
	"classname" "func_brush"
	"origin" "-11356 -4463 -47"
	"targetname" "los_road_bus"
}
{
	"classname" "logic_auto"
	"OnMapSpawn" "los_road_bus,AddOutput,mins -230 -1 -16,0,-1"
	"OnMapSpawn" "los_road_bus,AddOutput,maxs 230 1 16,0,-1"
	"OnMapSpawn" "los_road_bus,AddOutput,solid 2,0,-1"
}
; --- Rock outside the graveyard
{
	"classname" "prop_dynamic"
	"origin" "-5452 -716 -88"
	"angles" "0 215 0"
	"model" "models/props/cs_militia/militiarock03.mdl"
	"solid" "6"
	"disableshadows" "1"
}
; --- Block survivors from standing on the rock
{
	"classname" "env_player_blocker"
	"origin" "-5446 -706 452"
	"mins" "-32 -30 -540"
	"maxs" "32 30 540"
	"initialstate" "1"
	"BlockType" "1"
}
; --- Tree cluster near the start of the graveyard
{
	"classname" "prop_dynamic"
	"origin" "-5137 164 -53"
	"angles" "0 120 0"
	"model" "models/props_foliage/trees_cluster01.mdl"
	"solid" "6"
	"disableshadows" "1"
}
; --- Block stuck spot inside tree cluster
{
	"classname" "env_player_blocker"
	"origin" "-5138 158 76"
	"mins" "-17 -17 -132"
	"maxs" "17 17 132"
	"initialstate" "1"
	"BlockType" "0"
}
; --- Extend wall column in the middle of the graveyard
{
	"classname" "prop_dynamic"
	"origin" "-4366 216 -112"
	"angles" "0 0 0"
	"model" "models/props_cemetery/cemetery_column.mdl"
	"solid" "6"
	"disableshadows" "1"
}

; =====================================================
; ==             LADDER / ELEVATOR NERF              ==
; ==   Nerf ladder & elevator attacks for infected   ==
; =====================================================


; ############  MAP SOUND AND GFX CHANGES  ############
; =====================================================
; ==                  SOUND REMOVAL                  ==
; ==    Remove or adjust sounds played by the map    ==
; =====================================================
; --- Fade out church bells sound after a few seconds
modify:
{
	match:
	{
		"targetname" "relay_churchbell"
	}
	insert:
	{
		"OnTrigger" "snd_churchbell,Volume,8,12,-1"
		"OnTrigger" "snd_churchbell,Volume,6,16,-1"
		"OnTrigger" "snd_churchbell,Volume,4,18,-1"
		"OnTrigger" "snd_churchbell,Volume,2,20,-1"
		"OnTrigger" "snd_churchbell,Kill,,22,-1"
	}
}

; =====================================================
; ==             GFX / PARTICLES REMOVAL             ==
; ==        Remove visual effects from the map       ==
; =====================================================


; ###############  TRIGGERS AND BRUSHES  ##############
; =====================================================
; ==                   CLIP REMOVAL                  ==
; ==      Remove miscellaneous clips and brushes     ==
; =====================================================

; =====================================================
; ==              TRIGGER REMOVAL / FIX              ==
; ==    Fix triggers that interfere with gameplay    ==
; =====================================================

; #######  MISCELLANEOUS / MAP SPECIFIC CHANGES  ######
; =====================================================
; ==                   BLANK HEADER                  ==
; ==                Blank description                ==
; =====================================================

; Harry modify 2022
filter:
; --- Remove item spawns in bad locations or excessive density in a location
; by harry
{
	"hammerid" "3725772"
}
{
	"hammerid" "3725620"
}
{
	"hammerid" "2726626"
}